<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ğŸ’ ğ’ğ‡ğ€ğ‘ğˆğ… ğğƒ ğ“ğŒ ğ‚ğğŒğŒğ”ğğˆğ“ğ˜</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="//libtl.com/sdk.js" data-zone="9803310" data-sdk="show_9803310"></script>
  <style>
    body{background:linear-gradient(135deg,#0f172a,#1e293b,#0f172a);color:#fff;min-height:100vh;font-weight:bold;font-style:italic}
    .glass{background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.1);backdrop-filter:blur(12px);border-radius:16px;box-shadow:0 4px 20px rgba(0,0,0,0.4);}
    .tab{display:none}.tab.show{display:block}
    .badge{padding:2px 8px;border-radius:6px;font-size:.8rem;font-weight:bold}
    .badge.pending{background:#fbbf24;color:#000}
    .badge.success{background:#4ade80;color:#000}
    .badge.failed{background:#f87171;color:#000}
    .glow-text{font-weight:bold;text-shadow:0 0 5px #0ff,0 0 10px #0ff,0 0 20px #0ff;font-style:italic}
    .glow-btn{background:linear-gradient(90deg,#ff0080,#7928ca,#2af598);background-size:200% 200%;animation:glow 3s linear infinite;font-weight:bold;font-style:italic;font-size:1.1rem;border-radius:12px;padding:10px}
    @keyframes glow{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    /* Popup */
    #popup{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:#10b981;color:#000;
      padding:10px 20px;border-radius:12px;font-weight:bold;box-shadow:0 0 15px #10b981;
      display:none;z-index:999;animation:fadeIn 0.5s;}
    @keyframes fadeIn{from{opacity:0;top:0}to{opacity:1;top:20px}}
  </style>
</head>
<body class="pb-32">

<!-- Popup -->
<div id="popup">âœ… +0.20à§³ à¦¯à§‹à¦— à¦¹à¦¯à¦¼à§‡à¦›à§‡!</div>

<header class="p-4 text-center glass m-3">
  <h1 class="text-2xl glow-text">ğŸ’ ğ’ğ‡ğ€ğ‘ğˆğ… ğğƒ ğ“ğŒ ğ‚ğğŒğŒğ”ğğˆğ“ğ˜</h1>
  <a href="https://t.me/ADS_EARNING_BD_TM_CHANNEL" target="_blank" class="text-emerald-400 underline text-sm glow-text">ğŸ“¢ ğ‚ğ¡ğšğ§ğ§ğğ¥ ğ‰ğ¨ğ¢ğ§ ğŠğ¨ğ«ğ¨ğ§</a>
</header>

<main class="max-w-xl mx-auto px-3 space-y-4">

  <!-- Login -->
  <section id="tab-login" class="tab show glass p-4">
    <h2 class="text-xl glow-text">ğŸ” ğ‹ğ¨ğ ğ¢ğ§</h2>
    <input id="username" class="w-full p-2 mt-2 rounded text-black font-bold italic" placeholder="Username"/>
    <button onclick="register()" class="w-full py-2 glow-btn mt-3">ğŸš€ ğ’ğ®ğ«ğ® ğŠğ¨ğ«ğ®ğ§</button>
  </section>

  <!-- Home -->
  <section id="tab-home" class="tab glass p-4 text-center">
    <div class="text-sm glow-text">ğ•ğšğ«ğ­ğ¦ğšğ§ ğğšğ¥ğšğ§ğœğ</div>
    <div class="text-3xl glow-text"><span id="ui-balance">0.00</span> à§³</div>
    <div class="text-sm mt-2 glow-text">ğ€ğ£ ğğğ¤ğ¡ğš ğ€ğ: <span id="ui-ads">0</span>/<span id="ui-limit">200</span></div>
    <div id="timerBox" class="text-lg font-bold text-emerald-400 mt-2 hidden glow-text">
      â³ <span id="timer1">15</span>s | <span id="timer2">17</span>s
    </div>
    <button onclick="watchAd()" class="w-full py-2 mt-3 glow-btn">ğŸ¬ ğ€ğ ğƒğğ¤ğ¡ğ®ğ§</button>
    <button onclick="openTab('withdraw')" class="w-full py-2 bg-green-600 mt-3 rounded glow-text">ğŸ’³ ğ–ğ¢ğ­ğ¡ğğ«ğšğ°</button>
    <div class="mt-3 text-sm glow-text">
      ğŸ”— ğ‘ğğŸğšğ« ğ‹ğ¢ğ§ğ¤:<br/>
      <span id="refLink" class="text-emerald-400"></span>
      <button onclick="copyRef()" class="bg-gray-700 px-2 rounded text-xs ml-2">ğ‚ğ¨ğ©ğ²</button>
    </div>
  </section>

  <!-- Withdraw -->
  <section id="tab-withdraw" class="tab glass p-4">
    <h2 class="text-xl glow-text">ğŸ’³ ğ“ğšğ¤ğš ğ”ğ­ğ­ğ¨ğ¥ğ¨ğ§</h2>
    <select id="method" class="w-full p-2 mt-2 rounded text-black font-bold italic">
      <option value="bkash">ğğ¢ğ¤ğšğ¬ğ¡ (Min 10)</option>
      <option value="nagad">ğğšğ ğšğ (Min 50)</option>
      <option value="recharge">ğ‘ğğœğ¡ğšğ«ğ ğ (Min 20)</option>
    </select>
    <input id="number" class="w-full p-2 mt-2 rounded text-black font-bold italic" placeholder="ğğ®ğ¦ğ›ğğ«"/>
    <input id="amount" type="number" class="w-full p-2 mt-2 rounded text-black font-bold italic" placeholder="ğğ¨ğ«ğ¢ğ¦ğšğ§"/>
    <button onclick="withdraw()" class="w-full py-2 bg-blue-600 mt-2 rounded glow-text">ğŸ“© ğ‘ğğªğ®ğğ¬ğ­ ğğšğ­ğ¡ğšğ§</button>
  </section>

  <!-- History -->
  <section id="tab-history" class="tab glass p-4">
    <h2 class="text-xl glow-text">ğŸ“œ ğ‡ğ¢ğ¬ğ­ğ¨ğ«ğ²</h2>
    <ul id="withdrawHistory" class="mt-2 space-y-2 text-sm"></ul>
  </section>

  <!-- Admin -->
  <section id="tab-admin" class="tab glass p-4">
    <h2 class="text-xl glow-text">âš™ ğ€ğğ¦ğ¢ğ§ ğğšğ§ğğ¥</h2>
    <input id="adminPass" type="password" class="w-full p-2 mt-2 rounded text-black font-bold italic" placeholder="ğ€ğğ¦ğ¢ğ§ ğğšğ¬ğ¬"/>
    <button onclick="adminLogin()" class="w-full py-2 bg-blue-600 mt-2 rounded glow-text">ğ‹ğ¨ğ ğ¢ğ§</button>
    <div id="adminPanel" class="hidden mt-4 space-y-4">
      <h3 class="font-semibold glow-text">ğ–ğ¢ğ­ğ¡ğğ«ğšğ° ğ‘ğğªğ®ğğ¬ğ­</h3>
      <ul id="adminRequests" class="mt-2 space-y-2 text-sm"></ul>
    </div>
  </section>
</main>

<nav class="fixed bottom-0 left-0 right-0 bg-black/40 backdrop-blur p-2 grid grid-cols-4 gap-2">
  <button onclick="openTab('home')" class="py-2 rounded bg-white/10 glow-text">ğŸ </button>
  <button onclick="openTab('withdraw')" class="py-2 rounded bg-white/10 glow-text">ğŸ’³</button>
  <button onclick="openTab('history')" class="py-2 rounded bg-white/10 glow-text">ğŸ“œ</button>
  <button onclick="openTab('admin')" class="py-2 rounded bg-white/10 glow-text">âš™</button>
</nav>

<script>
const BOT_TOKEN="8169503775:AAHFBx2dXbnXLZHje8MUzgsx5chWjxD9dKY";
const ADMIN_ID="7691157254";
const CHANNEL_ID="-1002830661384";
const ADMIN_PASSWORD="018";

let user=null,balance=0,adsToday=0,limit=200;
if(localStorage.user)user=JSON.parse(localStorage.user);
if(localStorage.balance)balance=parseFloat(localStorage.balance);
if(localStorage.adsToday)adsToday=parseInt(localStorage.adsToday);

function register(){
  const name=document.getElementById("username").value.trim();
  if(!name)return alert("âš  à¦‡à¦‰à¦œà¦¾à¦°à¦¨à§‡à¦® à¦¦à¦¿à¦¨");
  user={name};localStorage.user=JSON.stringify(user);
  document.getElementById("refLink").innerText="https://t.me/BD_TM_MINI_BOT?start="+name;
  openTab("home");updateUI();
}

function openTab(id){
  document.querySelectorAll(".tab").forEach(t=>t.classList.remove("show"));
  document.getElementById("tab-"+id).classList.add("show");
}

function updateUI(){
  document.getElementById("ui-balance").innerText=balance.toFixed(2);
  document.getElementById("ui-ads").innerText=adsToday;
  document.getElementById("ui-limit").innerText=limit;
}

function showPopup(msg){
  const p=document.getElementById("popup");
  p.innerText=msg;p.style.display="block";
  setTimeout(()=>{p.style.display="none";},3000);
}

function watchAd(){
  if(!user)return alert("âš  à¦ªà§à¦°à¦¥à¦®à§‡ à¦²à¦—à¦‡à¦¨ à¦•à¦°à§à¦¨");
  if(adsToday>=limit)return alert("âš  à¦†à¦œà¦•à§‡à¦° à¦²à¦¿à¦®à¦¿à¦Ÿ à¦¶à§‡à¦·");
  if(typeof show_9803310==="function"){show_9803310();}
  startTimers();
}

function startTimers(){
  let t1=15,t2=17;
  document.getElementById("timerBox").classList.remove("hidden");
  const iv=setInterval(()=>{
    document.getElementById("timer1").innerText=t1;
    document.getElementById("timer2").innerText=t2;
    if(t1<=0&&t2<=0){
      clearInterval(iv);
      document.getElementById("timerBox").classList.add("hidden");
      adsToday++;balance+=0.20;
      localStorage.balance=balance;localStorage.adsToday=adsToday;
      updateUI();
      let msg=`âœ… ${user.name} à¦à¦¡ à¦¦à§‡à¦–à§‡à¦›à§‡\nğŸ’° +0.20à§³ | ${new Date().toLocaleTimeString()}`;
      sendTelegram(msg,CHANNEL_ID);
      showPopup(msg);
    }
    if(t1>0)t1--;if(t2>0)t2--;
  },1000);
}

function copyRef(){
  navigator.clipboard.writeText(document.getElementById("refLink").innerText);
  alert("âœ… à¦•à¦ªà¦¿ à¦¹à§Ÿà§‡à¦›à§‡");
}

function withdraw(){
  let amt=parseFloat(document.getElementById("amount").value);
  let num=document.getElementById("number").value.trim();
  let m=document.getElementById("method").value;
  if(!amt||!num)return alert("âš  à¦ªà§‚à¦°à§à¦£ à¦•à¦°à§à¦¨");
  if(amt>balance)return alert("âš  à¦ªà¦°à§à¦¯à¦¾à¦ªà§à¦¤ à¦Ÿà¦¾à¦•à¦¾ à¦¨à§‡à¦‡");
  balance-=amt;updateUI();localStorage.balance=balance;
  let req={id:Date.now(),user:user.name,method:m,number:num,amount:amt,time:new Date().toLocaleString(),status:"Pending"};
  let list=JSON.parse(localStorage.requests||"[]");list.push(req);
  localStorage.requests=JSON.stringify(list);renderHistory();
  sendTelegram(`ğŸ†• Withdraw\nğŸ‘¤ ${user.name}\nà§³${amt} â†’ ${m} (${num})`,ADMIN_ID);
}

function renderHistory(){
  let list=JSON.parse(localStorage.requests||"[]");
  let ul=document.getElementById("withdrawHistory");ul.innerHTML="";
  list.forEach(r=>{
    ul.innerHTML+=`<li class="glass p-2">${r.time} - ${r.amount}à§³ (${r.method})
    <span class="badge ${r.status.toLowerCase()}">${r.status}</span></li>`;
  });
}

function adminLogin(){
  if(document.getElementById("adminPass").value!==ADMIN_PASSWORD)return alert("à¦­à§à¦² à¦ªà¦¾à¦¸à¦“à¦¯à¦¼à¦¾à¦°à§à¦¡");
  document.getElementById("adminPanel").classList.remove("hidden");
  renderAdmin();
}
function renderAdmin(){
  let list=JSON.parse(localStorage.requests||"[]");
  let ul=document.getElementById("adminRequests");ul.innerHTML="";
  list.forEach((r,i)=>{
    ul.innerHTML+=`<li class="glass p-2">${r.user} â†’ ${r.amount}à§³ (${r.method})
    <span class="badge ${r.status.toLowerCase()}">${r.status}</span><br/>
    ${r.status==="Pending"?`
      <button onclick="approve(${i})" class="bg-green-600 px-2 rounded">Approve</button>
      <button onclick="reject(${i})" class="bg-red-600 px-2 rounded">Reject</button>`:""}
    <button onclick="delReq(${i})" class="bg-gray-600 px-2 rounded">Delete</button>
    </li>`;
  });
}
function approve(i){
  let list=JSON.parse(localStorage.requests||"[]");
  if(list[i].status!=="Pending")return;
  list[i].status="Success";localStorage.requests=JSON.stringify(list);
  renderHistory();renderAdmin();
  sendTelegram(`âœ… Approve: ${list[i].user} à§³${list[i].amount}`,ADMIN_ID);
}
function reject(i){
  let list=JSON.parse(localStorage.requests||"[]");
  if(list[i].status!=="Pending")return;
  list[i].status="Failed";balance+=list[i].amount;
  localStorage.balance=balance;updateUI();
  localStorage.requests=JSON.stringify(list);
  renderHistory();renderAdmin();
  sendTelegram(`âŒ Reject: ${list[i].user} à§³${list[i].amount}`,ADMIN_ID);
}
function delReq(i){
  let list=JSON.parse(localStorage.requests||"[]");
  list.splice(i,1);localStorage.requests=JSON.stringify(list);
  renderHistory();renderAdmin();
}

async function sendTelegram(text,cid){
  try{await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:cid,text})});}catch(e){}
}

renderHistory();updateUI();

// Daily Reset
let today=new Date().toDateString();
if(localStorage.lastDay!==today){
  adsToday=0;localStorage.adsToday=0;localStorage.lastDay=today;
  updateUI();
}
</script>
</body>
</html>