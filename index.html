<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ğŸ’ ğ’ğ‡ğ€ğ‘ğˆğ… ğğƒ ğ“ğŒ ğ‚ğğŒğŒğ”ğğˆğ“ğ˜</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src='//libtl.com/sdk.js' data-zone='9803310' data-sdk='show_9803310'></script>
  <style>
    body {
      background: linear-gradient(135deg,#0f172a,#1e293b,#0f172a);
      color:#fff;min-height:100vh;
      font-weight:bold;font-style:italic;
    }
    .glass {background: rgba(255,255,255,0.08);border: 1px solid rgba(255,255,255,0.1);backdrop-filter: blur(12px);border-radius: 16px;box-shadow: 0 4px 20px rgba(0,0,0,0.5);}
    .tab{display:none}.tab.show{display:block}
    .glow-text {font-weight:bold;font-style:italic;text-shadow:0 0 5px #0ff,0 0 10px #0ff,0 0 20px #0ff;}
    .glow-btn {background: linear-gradient(90deg,#ff0080,#7928ca,#2af598);background-size:200% 200%;animation: glow 3s linear infinite;font-weight:bold;font-style:italic;font-size:1.1rem;border-radius:12px;padding:10px}
    @keyframes glow {0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .badge{padding:2px 8px;border-radius:6px;font-size:.8rem;font-weight:bold}
    .badge.pending{background:#fbbf24;color:#000}
    .badge.success{background:#4ade80;color:#000}
    .badge.failed{background:#f87171;color:#000}
  </style>
</head>
<body class="pb-32">

<header class="p-4 text-center glass m-3">
  <h1 class="text-2xl glow-text">ğŸ’ ğ’ğ‡ğ€ğ‘ğˆğ… ğğƒ ğ“ğŒ ğ‚ğğŒğŒğ”ğğˆğ“ğ˜</h1>
  <a href="https://t.me/ADS_EARNING_BD_TM_CHANNEL" target="_blank" class="text-emerald-400 underline text-sm glow-text">ğŸ“¢ ğ‰ğğˆğ ğ‚ğ‡ğ€ğğğ„ğ‹</a>
</header>

<main class="max-w-xl mx-auto px-3 space-y-4">

  <!-- LOGIN -->
  <section id="tab-login" class="tab show glass p-4">
    <h2 class="text-xl glow-text">ğŸ” ğ‹ğğ†ğˆğ</h2>
    <input id="username" class="w-full p-2 mt-2 rounded text-black font-bold italic" placeholder="âœ ğ„ğğ“ğ„ğ‘ ğ”ğ’ğ„ğ‘ğğ€ğŒğ„"/>
    <button onclick="register()" class="w-full py-2 glow-btn mt-3">ğŸš€ ğ’ğ“ğ€ğ‘ğ“</button>
  </section>

  <!-- HOME -->
  <section id="tab-home" class="tab glass p-4 text-center">
    <div class="text-sm glow-text">ğŸ’° ğ‚ğ”ğ‘ğ‘ğ„ğğ“ ğğ€ğ‹ğ€ğğ‚ğ„</div>
    <div class="text-3xl glow-text"><span id="ui-balance">0.00</span> à§³</div>
    <div class="text-sm mt-2 glow-text">ğŸ¬ ğ“ğğƒğ€ğ˜â€™ğ’ ğ€ğƒğ’: <span id="ui-ads">0</span>/<span id="ui-limit">200</span></div>
    <div id="timerBox" class="text-lg font-bold text-emerald-400 mt-2 hidden glow-text">â³ <span id="timer">17</span> ğ’ğ„ğ‚</div>
    <button onclick="watchAd()" class="w-full py-2 mt-3 glow-btn">ğŸ¬ ğ–ğ€ğ“ğ‚ğ‡ ğ€ğƒ</button>
    <button onclick="openTab('withdraw')" class="w-full py-2 bg-green-600 mt-3 rounded glow-text">ğŸ’³ ğ–ğˆğ“ğ‡ğƒğ‘ğ€ğ–</button>
    <div class="mt-3 text-sm glow-text">
      ğŸ”— ğ‘ğ„ğ…ğ„ğ‘ ğ‹ğˆğğŠ:<br/>
      <span id="refLink" class="text-emerald-400"></span>
      <button onclick="copyRef()" class="bg-gray-700 px-2 rounded text-xs ml-2">ğŸ“‹ ğ‚ğğğ˜</button>
    </div>
  </section>

  <!-- WITHDRAW -->
  <section id="tab-withdraw" class="tab glass p-4">
    <h2 class="text-xl glow-text">ğŸ’³ ğ–ğˆğ“ğ‡ğƒğ‘ğ€ğ–</h2>
    <select id="method" class="w-full p-2 mt-2 rounded text-black font-bold italic">
      <option value="bkash">ğŸ“± BKASH (ğŒğˆğğˆğŒğ”ğŒ 10)</option>
      <option value="nagad">ğŸ“± NAGAD (ğŒğˆğğˆğŒğ”ğŒ 50)</option>
      <option value="recharge">ğŸ“± RECHARGE (ğŒğˆğğˆğŒğ”ğŒ 20)</option>
    </select>
    <input id="number" class="w-full p-2 mt-2 rounded text-black font-bold italic" placeholder="ğŸ“ ğğ”ğŒğğ„ğ‘"/>
    <input id="amount" type="number" class="w-full p-2 mt-2 rounded text-black font-bold italic" placeholder="ğŸ’° ğ€ğŒğğ”ğğ“"/>
    <button onclick="withdraw()" class="w-full py-2 bg-blue-600 mt-2 rounded glow-text">ğŸ“© ğ’ğ„ğğƒ ğ‘ğ„ğğ”ğ„ğ’ğ“</button>
  </section>

  <!-- HISTORY -->
  <section id="tab-history" class="tab glass p-4">
    <h2 class="text-xl glow-text">ğŸ“œ ğ‡ğˆğ’ğ“ğğ‘ğ˜</h2>
    <ul id="withdrawHistory" class="mt-2 space-y-2 text-sm"></ul>
  </section>

  <!-- ADMIN -->
  <section id="tab-admin" class="tab glass p-4">
    <h2 class="text-xl glow-text">âš™ ğ€ğƒğŒğˆğ ğğ€ğğ„ğ‹</h2>
    <input id="adminPass" type="password" class="w-full p-2 mt-2 rounded text-black font-bold italic" placeholder="ğŸ”‘ ğ€ğƒğŒğˆğ ğğ€ğ’ğ’"/>
    <button onclick="adminLogin()" class="w-full py-2 bg-blue-600 mt-2 rounded glow-text">ğŸ”“ ğ‹ğğ†ğˆğ</button>
    <div id="adminPanel" class="hidden mt-4 space-y-4">
      <h3 class="font-semibold glow-text">ğŸ“© ğ–ğˆğ“ğ‡ğƒğ‘ğ€ğ– ğ‘ğ„ğğ”ğ„ğ’ğ“ğ’</h3>
      <ul id="adminRequests" class="mt-2 space-y-2 text-sm"></ul>
    </div>
  </section>
</main>

<!-- NAV -->
<nav class="fixed bottom-0 left-0 right-0 bg-black/40 backdrop-blur p-2 grid grid-cols-4 gap-2">
  <button onclick="openTab('home')" class="py-2 rounded bg-white/10 glow-text">ğŸ </button>
  <button onclick="openTab('withdraw')" class="py-2 rounded bg-white/10 glow-text">ğŸ’³</button>
  <button onclick="openTab('history')" class="py-2 rounded bg-white/10 glow-text">ğŸ“œ</button>
  <button onclick="openTab('admin')" class="py-2 rounded bg-white/10 glow-text">âš™</button>
</nav>

<script>
const BOT_TOKEN = "8169503775:AAHFBx2dXbnXLZHje8MUzgsx5chWjxD9dKY";
const ADMIN_ID = "7691157254";
const CHANNEL_ID = "-1002830661384";
const BOT_USERNAME = "BD_TM_MINI_BOT";

let user = {};
let balance = 0;
let adsToday = 0;
const limit = 200;

// Load saved
if(localStorage.user){user=JSON.parse(localStorage.user);}
if(localStorage.balance) balance=parseFloat(localStorage.balance);
if(localStorage.adsToday){adsToday=parseInt(localStorage.adsToday);}
updateUI();

function register(){
  const name=document.getElementById("username").value.trim();
  if(!name){alert("âš  ğ”ğ’ğ„ğ‘ğğ€ğŒğ„ ğ‘ğ„ğğ”ğˆğ‘ğ„ğƒ!");return;}
  user={name,joined:true};
  localStorage.user=JSON.stringify(user);
  document.getElementById("refLink").innerText=`https://t.me/${BOT_USERNAME}?start=${name}`;
  openTab("home");
}

function copyRef(){
  const link=document.getElementById("refLink").innerText;
  navigator.clipboard.writeText(link);
  alert("âœ… ğ‘ğ„ğ…ğ„ğ‘ ğ‹ğˆğğŠ ğ‚ğğğˆğ„ğƒ!");
}

function openTab(id){
  document.querySelectorAll(".tab").forEach(t=>t.classList.remove("show"));
  document.getElementById("tab-"+id).classList.add("show");
}

function updateUI(){
  document.getElementById("ui-balance").innerText=balance.toFixed(2);
  document.getElementById("ui-ads").innerText=adsToday;
  document.getElementById("ui-limit").innerText=limit;
}

function watchAd(){
  if(!user.name){alert("âš  ğ”ğ’ğ„ğ‘ğğ€ğŒğ„ ğ‘ğ„ğğ”ğˆğ‘ğ„ğƒ!");return;}
  if(adsToday>=limit){alert("âš  ğƒğ€ğˆğ‹ğ˜ ğ‹ğˆğŒğˆğ“ ğ‘ğ„ğ€ğ‚ğ‡ğ„ğƒ!");return;}
  if(typeof show_9803310==="function"){
    show_9803310();
    startTimer();
  } else {
    alert("âš  ğ€ğƒ ğğğ“ ğ‹ğğ€ğƒğ„ğƒ!");
  }
}

function startTimer(){
  let t=17;
  document.getElementById("timerBox").classList.remove("hidden");
  const timerEl=document.getElementById("timer");
  const iv=setInterval(()=>{
    timerEl.innerText=t;
    if(t<=0){
      clearInterval(iv);
      document.getElementById("timerBox").classList.add("hidden");
      adsToday++;
      balance+=0.20;
      localStorage.balance=balance;
      localStorage.adsToday=adsToday;
      updateUI();
      sendAdNotification(`ğŸ¬ ğğ„ğ– ğ€ğƒ ğ–ğ€ğ“ğ‚ğ‡ğ„ğƒ%0AğŸ‘¤ ğ”ğ’ğ„ğ‘: @${user.name}%0AğŸ¤– ğğğ“: [${BOT_USERNAME}](https://t.me/${BOT_USERNAME})%0AğŸ•’ ğ“ğˆğŒğ„: ${new Date().toLocaleTimeString()}%0AğŸ“Š ğ“ğğ“ğ€ğ‹ ğ€ğƒğ’: ${adsToday}`);
      alert("âœ¨ +0.20 ğ€ğƒğƒğ„ğƒ ğ’ğ”ğ‚ğ‚ğ„ğ’ğ’ğ…ğ”ğ‹ğ‹ğ˜!");
    }
    t--;
  },1000);
}

function sendAdNotification(msg){
  fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHANNEL_ID}&text=${msg}&parse_mode=Markdown`);
}

// Withdraw
function withdraw(){
  let amt=parseFloat(document.getElementById("amount").value);
  let num=document.getElementById("number").value.trim();
  let m=document.getElementById("method").value;
  if(!amt||!num){alert("âš  ğ…ğˆğ‹ğ‹ ğ€ğ‹ğ‹ ğ…ğˆğ„ğ‹ğƒğ’");return;}
  if(amt>balance){alert("âš  ğğğ“ ğ„ğğğ”ğ†ğ‡ ğğ€ğ‹ğ€ğğ‚ğ„");return;}
  balance-=amt;
  updateUI();
  localStorage.balance=balance;
  let req={user:user.name,method:m,number:num,amount:amt,time:new Date().toLocaleString(),status:"pending"};
  let list=JSON.parse(localStorage.requests||"[]");
  list.push(req);localStorage.requests=JSON.stringify(list);
  loadHistory();
  sendWithdrawNotification(`ğŸ“© ğ–ğˆğ“ğ‡ğƒğ‘ğ€ğ– ğ‘ğ„ğğ”ğ„ğ’ğ“%0AğŸ‘¤ ğ”ğ’ğ„ğ‘: @${req.user}%0AğŸ’³ ğŒğ„ğ“ğ‡ğğƒ: ${req.method}%0AğŸ“ ğğ”ğŒğğ„ğ‘: ${req.number}%0AğŸ’° ğ€ğŒğğ”ğğ“: ${req.amount}à§³%0AğŸ•’ ğ“ğˆğŒğ„: ${req.time}`);
}

function sendWithdrawNotification(msg){
  fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${ADMIN_ID}&text=${msg}&parse_mode=Markdown`);
}

function loadHistory(){
  let list=JSON.parse(localStorage.requests||"[]");
  let ul=document.getElementById("withdrawHistory");
  ul.innerHTML="";
  list.forEach(r=>{
    ul.innerHTML+=`<li>${r.time} - ${r.amount}à§³ (${r.method}) <span class="badge ${r.status}">${r.status}</span></li>`;
  });
}
loadHistory();

// Admin
function adminLogin(){
  if(document.getElementById("adminPass").value==="018"){
    document.getElementById("adminPanel").classList.remove("hidden");
    loadRequests();
  }
}

function loadRequests(){
  let list=JSON.parse(localStorage.requests||"[]");
  let ul=document.getElementById("adminRequests");
  ul.innerHTML="";
  list.forEach((r,i)=>{
    ul.innerHTML+=`<li>ğŸ‘¤ @${r.user} | ğŸ’° ${r.amount}à§³ (${r.method}) <span class="badge ${r.status}">${r.status}</span>
      ${r.status==="pending"?`
        <button onclick="approve(${i})" class="bg-green-500 px-2">âœ… ğ€ğğğ‘ğğ•ğ„</button>
        <button onclick="reject(${i})" class="bg-red-500 px-2">âŒ ğ‘ğ„ğ‰ğ„ğ‚ğ“</button>`:""}
      <button onclick="delReq(${i})" class="bg-gray-500 px-2">ğŸ—‘ ğƒğ„ğ‹ğ„ğ“ğ„</button>
      <button onclick="banUser('${r.user}')" class="bg-pink-500 px-2">ğŸš« ğğ€ğ</button>
    </li>`;
  });
}
function approve(i){
  let list=JSON.parse(localStorage.requests||"[]");
  if(list[i].status!=="pending") return;
  list[i].status="success";
  localStorage.requests=JSON.stringify(list);
  loadRequests();loadHistory();
}
function reject(i){
  let list=JSON.parse(localStorage.requests||"[]");
  if(list[i].status!=="pending") return;
  list[i].status="failed";
  localStorage.requests=JSON.stringify(list);
  loadRequests();loadHistory();
}
function delReq(i){
  let list=JSON.parse(localStorage.requests||"[]");
  list.splice(i,1);
  localStorage.requests=JSON.stringify(list);
  loadRequests();loadHistory();
}
function banUser(name){
  localStorage.banned=JSON.stringify([...(JSON.parse(localStorage.banned||"[]")),name]);
  alert(name+" ğŸš« ğğ€ğğğ„ğƒ!");
}

// Reset daily ads
let today=new Date().toDateString();
if(localStorage.lastDay!==today){
  adsToday=0;
  localStorage.adsToday=0;
  localStorage.lastDay = today;
}
</script>
</body>
</html>