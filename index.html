<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>BD TM MINI BOT</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Monetag SDK -->
  <script src="//libtl.com/sdk.js" data-zone="9842278" data-sdk="show_9842278"></script>

  <style>
    body{font-family:ui-sans-serif,system-ui}
    .glass{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);backdrop-filter:blur(12px);border-radius:16px}
    .lighting{animation:glow 6s infinite alternate ease-in-out}
    @keyframes glow{
      0%{color:#60a5fa;text-shadow:0 0 10px #60a5fa}
      25%{color:#a78bfa;text-shadow:0 0 12px #a78bfa}
      50%{color:#34d399;text-shadow:0 0 12px #34d399}
      75%{color:#f59e0b;text-shadow:0 0 14px #f59e0b}
      100%{color:#fb7185;text-shadow:0 0 16px #fb7185}
    }
    .bottom{position:fixed;left:0;right:0;bottom:0;padding:10px;background:rgba(0,0,0,.25);backdrop-filter:blur(8px)}
    .navbtn{width:100%;padding:10px 8px;border-radius:14px;font-weight:700}
    .tab{display:none;opacity:0;transform:translateY(8px);transition:all .3s}
    .tab.show{display:block;opacity:1;transform:translateY(0)}
    .badge{padding:2px 6px;border-radius:8px;font-size:12px}
    .pending{background:#fbbf24;color:black}
    .approved{background:#10b981}
    .rejected{background:#ef4444}
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-[#091535] via-[#0b1120] to-[#2b0b3a] text-white pb-28">

<header class="p-5 text-center">
  <div class="glass p-4 max-w-xl mx-auto">
    <h1 class="text-3xl font-extrabold lighting">üíé BD TM MINI BOT</h1>
    <p class="opacity-80 text-sm">‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßá ‡¶Ü‡ßü ‡¶ï‡¶∞‡ßÅ‡¶® ‚Ä¢ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶®‡¶ø‡¶® ‚Ä¢ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤</p>
  </div>
</header>

<main class="px-4 max-w-xl mx-auto space-y-4">
  <!-- Login -->
  <section id="tab-login" class="tab show">
    <div class="glass p-5">
      <h2 class="text-xl font-bold lighting">üîê ‡¶≤‡¶ó‡¶á‡¶®</h2>
      <p class="text-sm opacity-80 mt-1">Username ‡¶ì Telegram Numeric ID ‡¶¶‡¶ø‡¶®‡•§</p>
      <div class="mt-4 space-y-3">
        <input id="username" class="w-full p-3 rounded text-black" placeholder="Username (without @)"/>
        <input id="tgId" class="w-full p-3 rounded text-black" placeholder="Numeric Telegram ID"/>
        <button onclick="register()" class="w-full py-3 bg-emerald-600 rounded-lg font-semibold">üöÄ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
      </div>
    </div>
  </section>

  <!-- Home -->
  <section id="tab-home" class="tab">
    <div class="glass p-5 text-center">
      <div class="lighting">‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏</div>
      <div class="text-4xl font-extrabold mt-1"><span id="ui-balance">0.00</span> ‡ß≥</div>
      <div class="mt-2 text-sm opacity-80">‡¶Ü‡¶ú ‡¶¶‡ßá‡¶ñ‡¶æ: <span id="ui-ads">0</span> / 100</div>
      <div class="mt-3 flex justify-center gap-2">
        <button onclick="openTab('ads')" class="px-4 py-2 bg-blue-600 rounded-xl font-semibold">‚ñ∂ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
        <button onclick="openTab('withdraw')" class="px-4 py-2 bg-green-600 rounded-xl font-semibold">üí≥ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞</button>
      </div>
    </div>
  </section>

  <!-- Ads -->
  <section id="tab-ads" class="tab">
    <div class="glass p-5 text-center">
      <div class="font-semibold lighting">üé¨ ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶®</div>
      <div class="mt-4">
        <button id="btn-start-ad" onclick="startAd()" class="w-full py-3 bg-blue-600 rounded-xl font-bold">‚ñ∂ ‡¶è‡¶ñ‡¶®‡¶á ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
      </div>
      <div id="adTimer" class="mt-3 text-sm opacity-80"></div>
    </div>
  </section>

  <!-- Withdraw -->
  <section id="tab-withdraw" class="tab">
    <div class="glass p-5">
      <h2 class="text-xl font-bold lighting">üí≥ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶â‡¶§‡ßç‡¶§‡ßã‡¶≤‡¶®</h2>
      <div class="text-xs opacity-80 mb-2">‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂ 10‡ß≥ ‚Ä¢ ‡¶®‡¶ó‡¶¶ 50‡ß≥ ‚Ä¢ ‡¶∞‡¶ø‡¶ö‡¶æ‡¶∞‡ßç‡¶ú 20‡ß≥</div>
      <div class="space-y-3">
        <select id="method" class="w-full p-3 rounded text-black">
          <option value="bkash">‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂</option>
          <option value="nagad">‡¶®‡¶ó‡¶¶</option>
          <option value="recharge">‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶∞‡¶ø‡¶ö‡¶æ‡¶∞‡ßç‡¶ú</option>
        </select>
        <input id="number" class="w-full p-3 rounded text-black" placeholder="‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"/>
        <input id="amount" type="number" class="w-full p-3 rounded text-black" placeholder="‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£"/>
        <button onclick="withdraw()" class="w-full py-3 bg-emerald-600 rounded-xl font-semibold">üì© ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶†‡¶æ‡¶®</button>
      </div>
      <div class="mt-5">
        <h3 class="font-semibold">üìú ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶π‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø</h3>
        <ul id="withdrawHistory" class="text-sm space-y-2 mt-2"></ul>
      </div>
    </div>
  </section>

  <!-- Admin -->
  <section id="tab-admin" class="tab">
    <div class="glass p-5">
      <h2 class="text-xl font-bold lighting">‚öôÔ∏è ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</h2>
      <input id="adminPass" type="password" class="w-full p-3 rounded text-black mt-2" placeholder="‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°"/>
      <button onclick="adminLogin()" class="w-full py-3 bg-pink-600 rounded-xl font-semibold mt-3">üîë ‡¶≤‡¶ó‡¶á‡¶®</button>
      <div id="adminPanel" class="mt-5 hidden">
        <h3 class="font-bold">Withdraw Requests</h3>
        <ul id="adminWithdraws" class="mt-2 space-y-2 text-sm"></ul>
      </div>
    </div>
  </section>
</main>

<nav class="bottom">
  <div class="max-w-xl mx-auto grid grid-cols-4 gap-2">
    <button class="navbtn bg-white/10" onclick="openTab('home')">üè† ‡¶π‡ßã‡¶Æ</button>
    <button class="navbtn bg-white/10" onclick="openTab('ads')">‚ñ∂ ‡¶è‡¶°</button>
    <button class="navbtn bg-white/10" onclick="openTab('withdraw')">üí≥ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞</button>
    <button class="navbtn bg-white/10" onclick="openTab('admin')">‚öô ‡¶è‡¶°‡¶Æ‡¶ø‡¶®</button>
  </div>
</nav>

<script>
// === CONFIG ===
const ADMIN_PASSWORD = "Sharif000";
const BOT_TOKEN = "8169503775:AAHFBx2dXbnXLZHje8MUzgsx5chWjxD9dKY";
const ADMIN_CHAT_ID = "7691157254";

// === SESSION ===
let SESSION = { username:null, tgId:null, balance:0, ads:0, history:[] };

// === HELPERS ===
function openTab(key){
  document.querySelectorAll(".tab").forEach(x=>{x.classList.remove("show");x.style.display="none"});
  const el=document.getElementById("tab-"+key);
  if(el){el.style.display="block";setTimeout(()=>el.classList.add("show"),10)}
}
function fmt(n){return Number(n||0).toFixed(2);}
async function sendTelegram(text){
  try{
    await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({chat_id:ADMIN_CHAT_ID,text})
    });
  }catch(e){console.log("TG error",e);}
}
function updateHistoryUI(){
  const box=document.getElementById("withdrawHistory");
  box.innerHTML="";
  SESSION.history.forEach(h=>{
    const li=document.createElement("li");
    li.className="glass p-2 flex justify-between items-center";
    li.innerHTML=`<div><b>${h.method}</b> ${h.number}<br/>‡ß≥${fmt(h.amount)}</div>
                  <div class="badge ${h.status.toLowerCase()}">${h.status}</div>`;
    box.appendChild(li);
  });
}

// === LOGIN ===
function register(){
  const username=document.getElementById("username").value.trim();
  const tgId=document.getElementById("tgId").value.trim();
  if(!username||!tgId) return alert("‡¶∏‡¶¨ ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡¶ø‡¶®");
  SESSION.username=username;SESSION.tgId=tgId;SESSION.balance=0;SESSION.ads=0;SESSION.history=[];
  document.getElementById("ui-balance").innerText=fmt(0);
  document.getElementById("ui-ads").innerText=0;
  openTab("home");
}

// === ADS ===
function startAd(){
  if(typeof show_9842278==="function"){ try{ show_9842278(); }catch(e){} }
  let left=17;
  document.getElementById("adTimer").innerText=`‚è≥ ‡¶ö‡¶≤‡¶õ‡ßá... ${left}s`;
  const t=setInterval(()=>{
    left--;
    document.getElementById("adTimer").innerText=`‚è≥ ‡¶ö‡¶≤‡¶õ‡ßá... ${left}s`;
    if(left<=0){
      clearInterval(t);
      SESSION.balance+=0.20;
      SESSION.ads+=1;
      document.getElementById("ui-balance").innerText=fmt(SESSION.balance);
      document.getElementById("ui-ads").innerText=SESSION.ads;
      document.getElementById("adTimer").innerText="‚úÖ +0.20 ‡ß≥ ‡¶Ø‡ßã‡¶ó ‡¶π‡ßü‡ßá‡¶õ‡ßá";
      sendTelegram(`‚ñ∂Ô∏è ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®\nüë§ ${SESSION.username} (${SESSION.tgId})\n‡¶Ü‡¶ú: ${SESSION.ads}/100\n‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏: ‡ß≥${fmt(SESSION.balance)}`);
    }
  },1000);
}

// === WITHDRAW ===
function withdraw(){
  const method=document.getElementById("method").value;
  const number=document.getElementById("number").value.trim();
  const amount=parseFloat(document.getElementById("amount").value);
  if(!number||!amount) return alert("‡¶∏‡¶¨ ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡¶ø‡¶®");
  if(amount>SESSION.balance) return alert("‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶®‡ßá‡¶á");
  SESSION.balance-=amount;
  document.getElementById("ui-balance").innerText=fmt(SESSION.balance);
  const req={method,number,amount,status:"Pending"};
  SESSION.history.unshift(req);
  updateHistoryUI();
  sendTelegram(`üì© ‡¶®‡¶§‡ßÅ‡¶® ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü\nüë§ ${SESSION.username} (${SESSION.tgId})\n‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø: ${method}\n‡¶®‡¶Æ‡ßç‡¶¨‡¶∞: ${number}\n‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£: ‡ß≥${fmt(amount)}`);
  alert("üì© ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá (Pending)‡•§");
}

// === ADMIN ===
function adminLogin(){
  const pass=document.getElementById("adminPass").value;
  if(pass!==ADMIN_PASSWORD) return alert("‡¶≠‡ßÅ‡¶≤ ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°");
  document.getElementById("adminPanel").classList.remove("hidden");
  loadAdmin();
}
function loadAdmin(){
  const box=document.getElementById("adminWithdraws");
  box.innerHTML="";
  SESSION.history.forEach((h,i)=>{
    const li=document.createElement("li");
    li.className="glass p-2 flex justify-between items-center";
    li.innerHTML=`<div><b>${SESSION.username}</b> ‡ß≥${fmt(h.amount)}<br/>${h.method}:${h.number}</div>
    <div class="space-x-1">
      <button onclick="approve(${i})" class="px-2 py-1 bg-green-600 rounded">‚úî</button>
      <button onclick="reject(${i})" class="px-2 py-1 bg-red-600 rounded">‚úñ</button>
    </div>`;
    box.appendChild(li);
  });
}
function approve(i){
  SESSION.history[i].status="Approved";
  updateHistoryUI();
  loadAdmin();
  sendTelegram(`‚úÖ APPROVED: ‡ß≥${fmt(SESSION.history[i].amount)} (${SESSION.history[i].method}:${SESSION.history[i].number})`);
}
function reject(i){
  SESSION.balance+=SESSION.history[i].amount;
  SESSION.history[i].status="Rejected";
  updateHistoryUI();
  loadAdmin();
  sendTelegram(`‚ùå REJECTED: ‡ß≥${fmt(SESSION.history[i].amount)} (${SESSION.history[i].method}:${SESSION.history[i].number})`);
}
</script>
</body>
</html>