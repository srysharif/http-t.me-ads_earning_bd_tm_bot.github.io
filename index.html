<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ЁЭРТЁЭРЗЁЭРАЁЭРСЁЭРИЁЭРЕ ЁЭРБЁЭРГ ЁЭРУЁЭРМ ЁЭРВЁЭРОЁЭРМЁЭРМЁЭРФЁЭРНЁЭРИЁЭРУЁЭРШ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body{font-family:system-ui;background:#0b1120;color:#fff}
    .glass{background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.1);backdrop-filter:blur(10px);border-radius:16px}
    .tab{display:none}.tab.show{display:block}
    .badge{padding:2px 6px;border-radius:6px;font-size:.8rem}
    .badge.pending{background:#fbbf24;color:#000}
    .badge.success{background:#4ade80;color:#000}
    .badge.failed{background:#f87171;color:#000}
    /* Glow effect */
    .glow-btn{
      background:linear-gradient(90deg,#ff0080,#7928ca,#2af598);
      background-size:200% 200%;
      animation:glow 3s linear infinite;
      font-weight:bold;
      font-size:1.2rem;
    }
    @keyframes glow{
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }
    h1,h2,h3,h4,h5{
      font-family:serif;
      font-weight:bold;
      letter-spacing:1px;
      text-shadow:0 0 8px #ff00ff,0 0 12px #00ffff;
    }
    #timerBox{margin-top:10px;font-size:1rem;color:#fbbf24;}
  </style>
</head>
<body class="pb-32">

<header class="p-4 text-center glass m-3">
  <h1 class="text-2xl">ЁЯТО ЁЭРТЁЭРЗЁЭРАЁЭРСЁЭРИЁЭРЕ ЁЭРБЁЭРГ ЁЭРУЁЭРМ ЁЭРВЁЭРОЁЭРМЁЭРМЁЭРФЁЭРНЁЭРИЁЭРУЁЭРШ</h1>
  <a href="https://t.me/ADS_EARNING_BD_TM_CHANNEL" target="_blank" class="text-emerald-400 underline text-sm">ЁЯУв ржЪрзНржпрж╛ржирзЗрж▓рзЗ ржЬрзЯрзЗржи ржХрж░рзБржи</a>
</header>

<main class="max-w-xl mx-auto px-3 space-y-4">

  <!-- Login -->
  <section id="tab-login" class="tab show glass p-4 text-center">
    <h2 class="text-xl">ЁЯФР рж▓ржЧржЗржи</h2>
    <input id="username" class="w-full p-2 mt-2 rounded text-black" placeholder="ржЗржЙржЬрж╛рж░ржирзЗржо"/>
    <input id="tgId" class="w-full p-2 mt-2 rounded text-black" placeholder="ржЯрзЗрж▓рж┐ржЧрзНрж░рж╛ржо ржЖржЗржбрж┐"/>
    <button onclick="register()" class="w-full py-2 bg-emerald-600 mt-2 rounded">ЁЯЪА рж╢рзБрж░рзБ ржХрж░рзБржи</button>
  </section>

  <!-- Home -->
  <section id="tab-home" class="tab glass p-4 text-center">
    <div class="text-sm">ржмрж░рзНрждржорж╛ржи ржмрзНржпрж╛рж▓рзЗржирзНрж╕</div>
    <div class="text-3xl font-bold"><span id="ui-balance">0.00</span> рз│</div>
    <div class="text-sm mt-2">ржЖржЬ ржжрзЗржЦрж╛ ржПржб: <span id="ui-ads">0</span>/<span id="ui-limit">0</span></div>
    <div id="timerBox"></div>
    <button onclick="watchAd()" class="w-full py-2 mt-3 rounded glow-btn">ЁЯОм ржПржб ржжрзЗржЦрзБржи</button>
    <button onclick="openTab('withdraw')" class="w-full py-2 bg-green-600 mt-3 rounded">ЁЯТ│ ржЙржЗржержбрзНрж░</button>
    <div class="mt-3 text-sm">
      ЁЯФЧ рж░рзЗржлрж╛рж░ рж▓рж┐ржВржХ:<br/>
      <span id="refLink" class="text-emerald-400"></span>
      <button onclick="copyRef()" class="bg-gray-700 px-2 rounded text-xs ml-2">ржХржкрж┐</button>
    </div>
  </section>

  <!-- Withdraw -->
  <section id="tab-withdraw" class="tab glass p-4">
    <h2 class="text-xl">ЁЯТ│ ржЯрж╛ржХрж╛ ржЙрждрзНрждрзЛрж▓ржи</h2>
    <select id="method" class="w-full p-2 mt-2 rounded text-black">
      <option value="bkash">ржмрж┐ржХрж╛рж╢ (Min 10)</option>
      <option value="nagad">ржиржЧржж (Min 50)</option>
      <option value="recharge">рж░рж┐ржЪрж╛рж░рзНржЬ (Min 20)</option>
    </select>
    <input id="number" class="w-full p-2 mt-2 rounded text-black" placeholder="ржиржорзНржмрж░"/>
    <input id="amount" type="number" class="w-full p-2 mt-2 rounded text-black" placeholder="ржкрж░рж┐ржорж╛ржг"/>
    <button onclick="withdraw()" class="w-full py-2 bg-blue-600 mt-2 rounded">ЁЯУй рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ ржкрж╛ржарж╛ржи</button>
  </section>

  <!-- History -->
  <section id="tab-history" class="tab glass p-4">
    <h2 class="text-xl">ЁЯУЬ рж╣рж┐рж╕рзНржЯрзНрж░рж┐</h2>
    <ul id="withdrawHistory" class="mt-2 space-y-2 text-sm"></ul>
  </section>

  <!-- Admin -->
  <section id="tab-admin" class="tab glass p-4">
    <h2 class="text-xl">тЪЩ ржПржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓</h2>
    <input id="adminPass" type="password" class="w-full p-2 mt-2 rounded text-black" placeholder="ржПржбржорж┐ржи ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб"/>
    <button onclick="adminLogin()" class="w-full py-2 bg-blue-600 mt-2 rounded">рж▓ржЧржЗржи</button>
    <div id="adminPanel" class="hidden mt-4 space-y-4">
      <div>
        <h3 class="font-semibold">ржЙржЗржержбрзНрж░ рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ</h3>
        <ul id="adminRequests" class="mt-2 space-y-2 text-sm"></ul>
      </div>
      <div>
        <h3 class="font-semibold">ржЗржЙржЬрж╛рж░ рж▓рж┐рж╕рзНржЯ</h3>
        <ul id="userList" class="mt-2 space-y-2 text-sm"></ul>
      </div>
      <div>
        <h3 class="font-semibold">Daily Ad Limit</h3>
        <input id="dailyLimitInput" type="number" class="w-full p-2 mt-2 rounded text-black" placeholder="рж▓рж┐ржорж┐ржЯ ржжрж┐ржи"/>
        <button onclick="setDailyLimit()" class="w-full py-2 bg-purple-600 mt-2 rounded">тЬФя╕П рж╕рзЗржн ржХрж░рзБржи</button>
      </div>
    </div>
  </section>
</main>

<nav class="fixed bottom-0 left-0 right-0 bg-black/40 backdrop-blur p-2 grid grid-cols-4 gap-2">
  <button onclick="openTab('home')" class="py-2 rounded bg-white/10">ЁЯПа</button>
  <button onclick="openTab('withdraw')" class="py-2 rounded bg-white/10">ЁЯТ│</button>
  <button onclick="openTab('history')" class="py-2 rounded bg-white/10">ЁЯУЬ</button>
  <button onclick="openTab('admin')" class="py-2 rounded bg-white/10">тЪЩ</button>
</nav>

<!-- тЬЕ Monetag Ad Script -->
<script src='//libtl.com/sdk.js' data-zone='9803310' data-sdk='show_9803310'></script>

<script>
const ADMIN_PASSWORD="SRY SHARIF";
const BOT_TOKEN="8169503775:AAHFBx2dXbnXLZHje8MUzgsx5chWjxD9dKY";
const ADMIN_CHAT_ID="7691157254";
const CHANNEL_ID="-1002830661384";
const BOT_USERNAME="@BD_TM_MINI_BOT";
const AD_REWARD=0.20;
let DAILY_AD_LIMIT=5;

let SESSION=JSON.parse(localStorage.getItem("session"))||{username:null,tgId:null,balance:0,ads:0,lastDate:null,history:[],requests:[]};
let USERS=JSON.parse(localStorage.getItem("users"))||[];

function saveSession(){localStorage.setItem("session",JSON.stringify(SESSION));if(SESSION.username){const i=USERS.findIndex(u=>u.username===SESSION.username);if(i>=0)USERS[i]=SESSION;else USERS.push(SESSION);localStorage.setItem("users",JSON.stringify(USERS));}}
function openTab(k){document.querySelectorAll(".tab").forEach(x=>x.classList.remove("show"));document.getElementById("tab-"+k).classList.add("show");}
function fmt(n){return Number(n||0).toFixed(2);}
function copyRef(){navigator.clipboard.writeText(document.getElementById("refLink").innerText);alert("тЬЕ ржХржкрж┐ рж╣рзЯрзЗржЫрзЗ");}
async function sendTelegram(t,cid=ADMIN_CHAT_ID){try{await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:cid,text:t})});}catch(e){}}
function sendChannel(msg){sendTelegram(msg,CHANNEL_ID);}

function register(){
  const u=document.getElementById("username").value.trim();
  const id=document.getElementById("tgId").value.trim();
  if(!u||!id)return alert("тЭМ ржЗржЙржЬрж╛рж░ржирзЗржо ржПржмржВ ржЯрзЗрж▓рж┐ржЧрзНрж░рж╛ржо ржЖржЗржбрж┐ ржжрж┐рждрзЗ рж╣ржмрзЗ");
  SESSION.username=u;SESSION.tgId=id;SESSION.balance=0;SESSION.ads=0;SESSION.history=[];SESSION.requests=[];
  saveSession();
  document.getElementById("ui-balance").innerText=fmt(SESSION.balance);
  document.getElementById("refLink").innerText=`https://t.me/${BOT_USERNAME}?start=${u}`;
  document.getElementById("ui-limit").innerText=DAILY_AD_LIMIT;
  openTab("home");
}

function watchAd(){
  let today=new Date().toDateString();
  if(SESSION.lastDate!==today){SESSION.lastDate=today;SESSION.ads=0;}

  if(SESSION.ads>=DAILY_AD_LIMIT)return alert("ржЖржЬржХрзЗрж░ ржПржб рж▓рж┐ржорж┐ржЯ рж╢рзЗрж╖ рж╣рзЯрзЗржЫрзЗ");

  if(typeof show_9803310==="function"){show_9803310().then(()=>{startAdTimer();});}
  else{alert("тЪая╕П ржПржб рж▓рзЛржб рж╣рзЯржирж┐");}
}

function startAdTimer(){
  let sec=17;
  document.getElementById("timerBox").innerText="тП│ ржПржб ржЪрж▓ржЫрзЗ... "+sec+"s";
  let timer=setInterval(()=>{
    sec--;
    document.getElementById("timerBox").innerText="тП│ ржПржб ржЪрж▓ржЫрзЗ... "+sec+"s";
    if(sec<=0){
      clearInterval(timer);
      SESSION.ads+=1;
      SESSION.balance+=AD_REWARD;
      saveSession();
      updateUI();
      sendChannel(`ЁЯСд ${SESSION.username}\nЁЯУ║ ${SESSION.ads} ржПржб ржжрзЗржЦрзЗржЫрзЗ\nЁЯТ░ ржмрзНржпрж╛рж▓рзЗржирзНрж╕: рз│${fmt(SESSION.balance)}`);
      alert("тЬЕ ржПржб рж╕ржорзНржкрзВрж░рзНржг рж╣рзЯрзЗржЫрзЗ, рз│"+AD_REWARD+" ржпрзЛржЧ рж╣рзЯрзЗржЫрзЗ");
      document.getElementById("timerBox").innerText="";
    }
  },1000);
}

function withdraw(){
  const m=document.getElementById("method").value;
  const num=document.getElementById("number").value.trim();
  const amt=parseFloat(document.getElementById("amount").value);
  if(!num||!amt)return alert("рж╕ржм рждржерзНржп ржжрж┐ржи");
  if(amt>SESSION.balance)return alert("ржмрзНржпрж╛рж▓рзЗржирзНрж╕ ржпржерзЗрж╖рзНржЯ ржирзЗржЗ");
  if(m==="bkash"&&amt<10)return alert("Min 10");
  if(m==="nagad"&&amt<50)return alert("Min 50");
  if(m==="recharge"&&amt<20)return alert("Min 20");
  SESSION.balance-=amt;
  const r={id:Date.now(),username:SESSION.username,tgId:SESSION.tgId,method:m,number:num,amount:amt,status:"Pending"};
  SESSION.history.push(r);SESSION.requests.push(r);
  saveSession();updateUI();
  sendTelegram(`ЁЯТ│ ржирждрзБржи ржЙржЗржержбрзНрж░\nЁЯСд ${SESSION.username}\nMethod: ${m}\nNumber: ${num}\nAmount: рз│${amt}`);
  alert("ЁЯУй ржкрж╛ржарж╛ржирзЛ рж╣рзЯрзЗржЫрзЗ");
}

function updateUI(){
  document.getElementById("ui-balance").innerText=fmt(SESSION.balance);
  document.getElementById("ui-ads").innerText=SESSION.ads;
  document.getElementById("ui-limit").innerText=DAILY_AD_LIMIT;
  const h=document.getElementById("withdrawHistory");h.innerHTML="";
  SESSION.history.forEach(r=>{
    h.innerHTML+=`<li class="glass p-2 flex justify-between"><div>${r.method} тЖТ ${r.number}<br/>рз│${fmt(r.amount)}</div><div class="badge ${r.status.toLowerCase()}">${r.status}</div></li>`;
  });
}

function updateAdmin(){
  const reqBox=document.getElementById("adminRequests");reqBox.innerHTML="";
  SESSION.requests.forEach(r=>{
    reqBox.innerHTML+=`<li class="glass p-2"><b>${r.username}</b> (${r.tgId})<br/>рз│${r.amount} тЖТ ${r.method} (${r.number})<br/><span class="badge ${r.status.toLowerCase()}">${r.status}</span><br/><button onclick="approve(${r.id})" class="bg-emerald-600 px-2 rounded text-xs">Approve</button> <button onclick="reject(${r.id})" class="bg-red-600 px-2 rounded text-xs">Reject</button> <button onclick="removeReq(${r.id})" class="bg-gray-600 px-2 rounded text-xs">Delete</button></li>`;
  });
  const uBox=document.getElementById("userList");uBox.innerHTML="";
  USERS.forEach(u=>{uBox.innerHTML+=`<li class="glass p-2"><b>${u.username}</b> (${u.tgId})<br/>ржмрзНржпрж╛рж▓рзЗржирзНрж╕: рз│${fmt(u.balance)} тАв ржПржб: ${u.ads}</li>`;});
}

function approve(id){
  const r=SESSION.requests.find(x=>x.id===id);
  if(r&&r.status==="Pending"){r.status="Success";SESSION.history.find(x=>x.id===id).status="Success";saveSession();updateUI();updateAdmin();sendTelegram(`тЬЕ Approve\nЁЯСд ${r.username}\nрз│${r.amount} ржкрж╛ржарж╛ржирзЛ рж╣рж▓рзЛ`);}
}
function reject(id){
  const r=SESSION.requests.find(x=>x.id===id);
  if(r&&r.status==="Pending"){r.status="Failed";SESSION.balance+=r.amount;SESSION.history.find(x=>x.id===id).status="Failed";saveSession();updateUI();updateAdmin();sendTelegram(`тЭМ Reject\nЁЯСд ${r.username}\nрз│${r.amount} ржлрзЗрж░ржд`);}
}
function removeReq(id){
  SESSION.requests=SESSION.requests.filter(r=>r.id!==id);
  SESSION.history=SESSION.history.filter(r=>r.id!==id);
  saveSession();updateAdmin();
}

function setDailyLimit(){
  let v=parseInt(document.getElementById("dailyLimitInput").value);
  if(v>0){DAILY_AD_LIMIT=v;document.getElementById("ui-limit").innerText=DAILY_AD_LIMIT;localStorage.setItem("adLimit",DAILY_AD_LIMIT);alert("тЬФя╕П Limit рж╕рзЗржЯ рж╣рзЯрзЗржЫрзЗ");}
}

function adminLogin(){if(document.getElementById("adminPass").value!==ADMIN_PASSWORD)return alert("ржнрзБрж▓");document.getElementById("adminPanel").classList.remove("hidden");updateAdmin();}

window.onload=()=>{
  if(localStorage.getItem("adLimit"))DAILY_AD_LIMIT=parseInt(localStorage.getItem("adLimit"));
  let today=new Date().toDateString();
  if(SESSION.lastDate!==today){SESSION.lastDate=today;SESSION.ads=0;}
  if(SESSION.username){
    document.getElementById("ui-balance").innerText=fmt(SESSION.balance);
    document.getElementById("refLink").innerText=`https://t.me/${BOT_USERNAME}?start=${SESSION.username}`;
    document.getElementById("ui-limit").innerText=DAILY_AD_LIMIT;
    updateUI();openTab("home");
  }
};
</script>
</body>
</html>