<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ğŸ’ ğ’ğ‡ğ€ğ‘ğˆğ… ğğƒ ğ“ğŒ ğ‚ğğŒğŒğ”ğğˆğ“ğ˜</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body{
      font-family:system-ui;
      background:linear-gradient(135deg,#0f172a,#1e293b,#0f172a);
      color:#fff;
      min-height:100vh;
    }
    .glass{background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.1);backdrop-filter:blur(12px);border-radius:16px;box-shadow:0 4px 20px rgba(0,0,0,0.4);}
    .tab{display:none}.tab.show{display:block}
    .badge{padding:2px 8px;border-radius:6px;font-size:.8rem}
    .badge.pending{background:#fbbf24;color:#000}
    .badge.success{background:#4ade80;color:#000}
    .badge.failed{background:#f87171;color:#000}
    /* Glow Button */
    .glow-btn{
      background:linear-gradient(90deg,#ff0080,#7928ca,#2af598);
      background-size:200% 200%;
      animation:glow 3s linear infinite;
      font-weight:bold;
      font-size:1.1rem;
      border-radius:12px;
      padding:10px;
    }
    @keyframes glow{
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }
  </style>
</head>
<body class="pb-32">

<header class="p-4 text-center glass m-3">
  <h1 class="text-2xl font-bold">ğŸ’ ğ’ğ‡ğ€ğ‘ğˆğ… ğğƒ ğ“ğŒ ğ‚ğğŒğŒğ”ğğˆğ“ğ˜</h1>
  <a href="https://t.me/ADS_EARNING_BD_TM_CHANNEL" target="_blank" class="text-emerald-400 underline text-sm">ğŸ“¢ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦šà§à¦¯à¦¾à¦¨à§‡à¦²</a>
</header>

<main class="max-w-xl mx-auto px-3 space-y-4">

  <!-- Login -->
  <section id="tab-login" class="tab show glass p-4">
    <h2 class="text-xl">ğŸ” ğ‹ğ¨ğ ğ¢ğ§</h2>
    <input id="username" class="w-full p-2 mt-2 rounded text-black" placeholder="Username"/>
    <input id="tgId" class="w-full p-2 mt-2 rounded text-black" placeholder="Telegram ID"/>
    <button onclick="register()" class="w-full py-2 glow-btn mt-3">ğŸš€ ğ’ğ­ğšğ«ğ­</button>
  </section>

  <!-- Home -->
  <section id="tab-home" class="tab glass p-4 text-center">
    <div class="text-sm">à¦¬à¦°à§à¦¤à¦®à¦¾à¦¨ à¦¬à§à¦¯à¦¾à¦²à§‡à¦¨à§à¦¸</div>
    <div class="text-3xl font-bold"><span id="ui-balance">0.00</span> à§³</div>
    <div class="text-sm mt-2">à¦†à¦œ à¦¦à§‡à¦–à¦¾ à¦à¦¡: <span id="ui-ads">0</span>/<span id="ui-limit">0</span></div>
    <div id="timerBox" class="text-lg font-bold text-emerald-400 mt-2 hidden">â³ <span id="timer">17</span> à¦¸à§‡à¦•à§‡à¦¨à§à¦¡</div>
    <button onclick="watchAd()" class="w-full py-2 mt-3 glow-btn">ğŸ¬ ğ–ğšğ­ğœğ¡ ğ€ğ</button>
    <button onclick="openTab('withdraw')" class="w-full py-2 bg-green-600 mt-3 rounded">ğŸ’³ ğ–ğ¢ğ­ğ¡ğğ«ğšğ°</button>
    <div class="mt-3 text-sm">
      ğŸ”— à¦°à§‡à¦«à¦¾à¦° à¦²à¦¿à¦‚à¦•:<br/>
      <span id="refLink" class="text-emerald-400"></span>
      <button onclick="copyRef()" class="bg-gray-700 px-2 rounded text-xs ml-2">à¦•à¦ªà¦¿</button>
    </div>
  </section>

  <!-- Withdraw -->
  <section id="tab-withdraw" class="tab glass p-4">
    <h2 class="text-xl">ğŸ’³ ğ–ğ¢ğ­ğ¡ğğ«ğšğ°</h2>
    <select id="method" class="w-full p-2 mt-2 rounded text-black">
      <option value="bkash">à¦¬à¦¿à¦•à¦¾à¦¶ (Min 10)</option>
      <option value="nagad">à¦¨à¦—à¦¦ (Min 50)</option>
      <option value="recharge">à¦°à¦¿à¦šà¦¾à¦°à§à¦œ (Min 20)</option>
    </select>
    <input id="number" class="w-full p-2 mt-2 rounded text-black" placeholder="à¦¨à¦®à§à¦¬à¦°"/>
    <input id="amount" type="number" class="w-full p-2 mt-2 rounded text-black" placeholder="à¦ªà¦°à¦¿à¦®à¦¾à¦£"/>
    <button onclick="withdraw()" class="w-full py-2 bg-blue-600 mt-2 rounded">ğŸ“© ğ’ğ®ğ›ğ¦ğ¢ğ­</button>
  </section>

  <!-- History -->
  <section id="tab-history" class="tab glass p-4">
    <h2 class="text-xl">ğŸ“œ ğ‡ğ¢ğ¬ğ­ğ¨ğ«ğ²</h2>
    <ul id="withdrawHistory" class="mt-2 space-y-2 text-sm"></ul>
  </section>

  <!-- Admin -->
  <section id="tab-admin" class="tab glass p-4">
    <h2 class="text-xl">âš™ ğ€ğğ¦ğ¢ğ§ ğğšğ§ğğ¥</h2>
    <input id="adminPass" type="password" class="w-full p-2 mt-2 rounded text-black" placeholder="Password"/>
    <button onclick="adminLogin()" class="w-full py-2 bg-blue-600 mt-2 rounded">à¦²à¦—à¦‡à¦¨</button>
    <div id="adminPanel" class="hidden mt-4 space-y-4">
      <div>
        <h3 class="font-semibold">Withdraw Requests</h3>
        <ul id="adminRequests" class="mt-2 space-y-2 text-sm"></ul>
      </div>
      <div>
        <h3 class="font-semibold">User List</h3>
        <ul id="userList" class="mt-2 space-y-2 text-sm"></ul>
      </div>
      <div>
        <h3 class="font-semibold">Daily Ad Limit</h3>
        <input id="dailyLimitInput" type="number" class="w-full p-2 mt-2 rounded text-black" placeholder="Limit"/>
        <button onclick="setDailyLimit()" class="w-full py-2 bg-purple-600 mt-2 rounded">âœ”ï¸ Save</button>
      </div>
    </div>
  </section>
</main>

<nav class="fixed bottom-0 left-0 right-0 bg-black/40 backdrop-blur p-2 grid grid-cols-4 gap-2">
  <button onclick="openTab('home')" class="py-2 rounded bg-white/10">ğŸ </button>
  <button onclick="openTab('withdraw')" class="py-2 rounded bg-white/10">ğŸ’³</button>
  <button onclick="openTab('history')" class="py-2 rounded bg-white/10">ğŸ“œ</button>
  <button onclick="openTab('admin')" class="py-2 rounded bg-white/10">âš™</button>
</nav>

<!-- Monetag -->
<script src="//libtl.com/sdk.js" data-zone="9803310" data-sdk="show_9803310"></script>

<script>
const ADMIN_PASSWORD="SRY SHARIF";
const BOT_TOKEN="YOUR_BOT_TOKEN";
const ADMIN_CHAT_ID="YOUR_ADMIN_ID";
const CHANNEL_ID="-1002830661384"; 
const BOT_USERNAME="@BD_TM_MINI_BOT";
const AD_REWARD=0.20;

let DAILY_AD_LIMIT=localStorage.getItem("dailyLimit")?parseInt(localStorage.getItem("dailyLimit")):5;
let SESSION=JSON.parse(localStorage.getItem("session"))||{username:null,tgId:null,balance:0,ads:0,lastDate:null,history:[],requests:[]};
let USERS=JSON.parse(localStorage.getItem("users"))||[];

function saveSession(){localStorage.setItem("session",JSON.stringify(SESSION));}
function openTab(k){
  if(k==="home" && !SESSION.joinedChannel){
    return alert("ğŸ“¢ à¦ªà§à¦°à¦¥à¦®à§‡ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦šà§à¦¯à¦¾à¦¨à§‡à¦²à§‡ à¦œà§Ÿà§‡à¦¨ à¦•à¦°à§à¦¨");
  }
  document.querySelectorAll(".tab").forEach(x=>x.classList.remove("show"));
  document.getElementById("tab-"+k).classList.add("show");
}
function fmt(n){return Number(n||0).toFixed(2);}
function copyRef(){navigator.clipboard.writeText(document.getElementById("refLink").innerText);alert("âœ… à¦•à¦ªà¦¿ à¦¹à§Ÿà§‡à¦›à§‡");}
async function sendTelegram(t,cid=ADMIN_CHAT_ID){try{await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:cid,text:t})});}catch(e){}}
function sendChannel(msg){sendTelegram(msg,CHANNEL_ID);}

function register(){
  const u=document.getElementById("username").value.trim();
  const id=document.getElementById("tgId").value.trim();
  if(!u||!id)return alert("à¦¸à¦¬ à¦¤à¦¥à§à¦¯ à¦¦à¦¿à¦¨");
  SESSION.username=u;SESSION.tgId=id;
  SESSION.balance=0;SESSION.ads=0;SESSION.history=[];SESSION.requests=[];
  SESSION.joinedChannel=confirm("ğŸ“¢ à¦†à¦ªà¦¨à¦¿ à¦•à¦¿ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦šà§à¦¯à¦¾à¦¨à§‡à¦²à§‡ à¦œà§Ÿà§‡à¦¨ à¦•à¦°à§‡à¦›à§‡à¦¨?");
  if(!SESSION.joinedChannel)return alert("à¦ªà§à¦°à¦¥à¦®à§‡ à¦œà§Ÿà§‡à¦¨ à¦•à¦°à§à¦¨!");
  saveSession();
  document.getElementById("ui-balance").innerText=fmt(SESSION.balance);
  document.getElementById("refLink").innerText=`https://t.me/${BOT_USERNAME}?start=${u}`;
  document.getElementById("ui-limit").innerText=DAILY_AD_LIMIT;
  openTab("home");
}

function watchAd(){
  let today=new Date().toDateString();
  if(SESSION.lastDate!==today){SESSION.lastDate=today;SESSION.ads=0;}
  if(SESSION.ads>=DAILY_AD_LIMIT)return alert("à¦†à¦œà¦•à§‡à¦° à¦à¦¡ à¦²à¦¿à¦®à¦¿à¦Ÿ à¦¶à§‡à¦· à¦¹à§Ÿà§‡à¦›à§‡");
  if(typeof show_9803310==="function"){show_9803310();}
  document.getElementById("timerBox").classList.remove("hidden");
  let t=17;document.getElementById("timer").innerText=t;
  let interval=setInterval(()=>{t--;document.getElementById("timer").innerText=t;if(t<=0){clearInterval(interval);SESSION.ads+=1;SESSION.balance+=AD_REWARD;saveSession();updateUI();sendChannel(`ğŸ‘¤ ${SESSION.username}\nğŸ“º ${SESSION.ads} à¦à¦¡ à¦¦à§‡à¦–à§‡à¦›à§‡\nğŸ’° à¦¬à§à¦¯à¦¾à¦²à§‡à¦¨à§à¦¸: à§³${fmt(SESSION.balance)}`);alert("âœ… à¦à¦¡ à¦¸à¦®à§à¦ªà§‚à¦°à§à¦£ à¦¹à§Ÿà§‡à¦›à§‡, à§³"+AD_REWARD+" à¦¯à§‹à¦— à¦¹à§Ÿà§‡à¦›à§‡");document.getElementById("timerBox").classList.add("hidden");}},1000);
}

function withdraw(){const m=document.getElementById("method").value;const num=document.getElementById("number").value.trim();const amt=parseFloat(document.getElementById("amount").value);if(!num||!amt)return alert("à¦¸à¦¬ à¦¤à¦¥à§à¦¯ à¦¦à¦¿à¦¨");if(amt>SESSION.balance)return alert("à¦¬à§à¦¯à¦¾à¦²à§‡à¦¨à§à¦¸ à¦¯à¦¥à§‡à¦·à§à¦Ÿ à¦¨à§‡à¦‡");if(m==="bkash"&&amt<10)return alert("Min 10");if(m==="nagad"&&amt<50)return alert("Min 50");if(m==="recharge"&&amt<20)return alert("Min 20");SESSION.balance-=amt;const r={id:Date.now(),username:SESSION.username,tgId:SESSION.tgId,method:m,number:num,amount:amt,status:"Pending"};SESSION.history.push(r);SESSION.requests.push(r);saveSession();updateUI();sendTelegram(`ğŸ’³ à¦¨à¦¤à§à¦¨ à¦‰à¦‡à¦¥à¦¡à§à¦°\nğŸ‘¤ User: ${SESSION.username}\nMethod: ${m}\nNumber: ${num}\nAmount: à§³${amt}`);alert("ğŸ“© à¦ªà¦¾à¦ à¦¾à¦¨à§‹ à¦¹à§Ÿà§‡à¦›à§‡");}

function updateUI(){document.getElementById("ui-balance").innerText=fmt(SESSION.balance);document.getElementById("ui-ads").innerText=SESSION.ads;document.getElementById("ui-limit").innerText=DAILY_AD_LIMIT;const h=document.getElementById("withdrawHistory");h.innerHTML="";SESSION.history.forEach(r=>{h.innerHTML+=`<li class="glass p-2 flex justify-between"><div>${r.method} â†’ ${r.number}<br/>à§³${fmt(r.amount)}</div><div class="badge ${r.status.toLowerCase()}">${r.status}</div></li>`});}
function setDailyLimit(){let v=parseInt(document.getElementById("dailyLimitInput").value);if(v>0){DAILY_AD_LIMIT=v;localStorage.setItem("dailyLimit",DAILY_AD_LIMIT);document.getElementById("ui-limit").innerText=DAILY_AD_LIMIT;alert("âœ”ï¸ Limit à¦¸à§‡à¦Ÿ à¦¹à§Ÿà§‡à¦›à§‡");}}
function adminLogin(){if(document.getElementById("adminPass").value!==ADMIN_PASSWORD)return alert("à¦­à§à¦²");document.getElementById("adminPanel").classList.remove("hidden");}
window.onload=()=>{if(SESSION.username){document.getElementById("ui-balance").innerText=fmt(SESSION.balance);document.getElementById("refLink").innerText=`https://t.me/${BOT_USERNAME}?start=${SESSION.username}`;document.getElementById("ui-limit").innerText=DAILY_AD_LIMIT;updateUI();openTab("home");}};
</script>
</body>
</html>