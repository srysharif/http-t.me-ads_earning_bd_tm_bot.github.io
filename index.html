<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ЁЯФе BD TM MINI BOT ЁЯФе</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body{font-family:system-ui;background:#0b0f1a;color:#fff}
    .glass{background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);backdrop-filter:blur(12px);border-radius:16px;box-shadow:0 0 20px rgba(255,0,100,0.3);}
    .tab{display:none}.tab.show{display:block}
    .badge{padding:2px 6px;border-radius:6px;font-size:.8rem}
    .badge.pending{background:#fbbf24;color:#000}
    .badge.success{background:#4ade80;color:#000}
    .badge.failed{background:#f87171;color:#000}
    .glow-btn{background:linear-gradient(90deg,#ff0080,#ff512f,#f9d423);background-size:300% 300%;animation:glow 4s ease infinite;font-weight:bold;font-size:1.2rem;box-shadow:0 0 25px rgba(255,50,50,0.6);}
    @keyframes glow{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .nav-btn{background:linear-gradient(45deg,#ff512f,#dd2476);box-shadow:0 0 12px rgba(255,50,50,0.6);transition:.3s;}
    .nav-btn:hover{transform:scale(1.05);box-shadow:0 0 25px rgba(255,100,0,0.9);}
  </style>
</head>
<body class="pb-32">

<header class="p-4 text-center glass m-3">
  <h1 class="text-3xl font-bold text-pink-400 drop-shadow-lg">ЁЯТО BD TM MINI BOT</h1>
  <a href="https://t.me/ADS_EARNING_BD_TM_CHANNEL" target="_blank" class="text-emerald-400 underline text-sm">ЁЯУв ржЖржорж╛ржжрзЗрж░ ржЪрзНржпрж╛ржирзЗрж▓</a>
</header>

<main class="max-w-xl mx-auto px-3 space-y-6">

  <!-- Login -->
  <section id="tab-login" class="tab show glass p-6">
    <h2 class="text-xl font-bold text-pink-400">ЁЯФР рж▓ржЧржЗржи</h2>
    <input id="username" class="w-full p-2 mt-3 rounded text-black" placeholder="Username"/>
    <input id="tgId" class="w-full p-2 mt-3 rounded text-black" placeholder="Telegram ID"/>
    <button onclick="register()" class="w-full py-2 glow-btn mt-3 rounded">ЁЯЪА рж╢рзБрж░рзБ ржХрж░рзБржи</button>
  </section>

  <!-- Home -->
  <section id="tab-home" class="tab glass p-6 text-center">
    <div class="text-sm">ржмрж░рзНрждржорж╛ржи ржмрзНржпрж╛рж▓рзЗржирзНрж╕</div>
    <div class="text-4xl font-bold text-yellow-300 drop-shadow"><span id="ui-balance">0.00</span> рз│</div>
    <div class="text-sm mt-2">ржЖржЬ ржжрзЗржЦрж╛ ржПржб: <span id="ui-ads">0</span>/<span id="ui-limit">0</span></div>
    <button onclick="watchAd()" class="w-full py-3 mt-4 rounded glow-btn">ЁЯОм ржПржб ржжрзЗржЦрзБржи</button>
    <button onclick="openTab('withdraw')" class="w-full py-2 bg-green-600 mt-3 rounded">ЁЯТ│ ржЙржЗржержбрзНрж░</button>
    <div class="mt-3 text-sm">
      ЁЯФЧ рж░рзЗржлрж╛рж░ рж▓рж┐ржВржХ:<br/>
      <span id="refLink" class="text-emerald-400"></span>
      <button onclick="copyRef()" class="bg-gray-700 px-2 rounded text-xs ml-2">ржХржкрж┐</button>
    </div>
  </section>

  <!-- Withdraw -->
  <section id="tab-withdraw" class="tab glass p-6">
    <h2 class="text-xl text-pink-400 font-bold">ЁЯТ│ ржЯрж╛ржХрж╛ ржЙрждрзНрждрзЛрж▓ржи</h2>
    <select id="method" class="w-full p-2 mt-3 rounded text-black">
      <option value="bkash">ржмрж┐ржХрж╛рж╢ (Minimum 10)</option>
      <option value="nagad">ржиржЧржж (Minimum 50)</option>
      <option value="recharge">рж░рж┐ржЪрж╛рж░рзНржЬ (Minimum 20)</option>
    </select>
    <input id="number" class="w-full p-2 mt-3 rounded text-black" placeholder="ржиржорзНржмрж░"/>
    <input id="amount" type="number" class="w-full p-2 mt-3 rounded text-black" placeholder="ржкрж░рж┐ржорж╛ржг"/>
    <button onclick="withdraw()" class="w-full py-2 bg-blue-600 mt-3 rounded">ЁЯУй рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ ржкрж╛ржарж╛ржи</button>
  </section>

  <!-- History -->
  <section id="tab-history" class="tab glass p-6">
    <h2 class="text-xl text-pink-400 font-bold">ЁЯУЬ рж╣рж┐рж╕рзНржЯрзНрж░рж┐</h2>
    <ul id="withdrawHistory" class="mt-3 space-y-3 text-sm"></ul>
  </section>

  <!-- Admin -->
  <section id="tab-admin" class="tab glass p-6">
    <h2 class="text-xl text-pink-400 font-bold">тЪЩ ржПржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓</h2>
    <input id="adminPass" type="password" class="w-full p-2 mt-3 rounded text-black" placeholder="ржПржбржорж┐ржи ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб"/>
    <button onclick="adminLogin()" class="w-full py-2 bg-blue-600 mt-3 rounded">рж▓ржЧржЗржи</button>
    <div id="adminPanel" class="hidden mt-4 space-y-4">
      <div>
        <h3 class="font-semibold">ржЙржЗржержбрзНрж░ рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ</h3>
        <ul id="adminRequests" class="mt-2 space-y-3 text-sm"></ul>
      </div>
      <div>
        <h3 class="font-semibold">ржЗржЙржЬрж╛рж░ рж▓рж┐рж╕рзНржЯ</h3>
        <ul id="userList" class="mt-2 space-y-2 text-sm"></ul>
      </div>
      <div>
        <h3 class="font-semibold">Daily Ad Limit</h3>
        <input id="dailyLimitInput" type="number" class="w-full p-2 mt-3 rounded text-black" placeholder="рж▓рж┐ржорж┐ржЯ ржжрж┐ржи"/>
        <button onclick="setDailyLimit()" class="w-full py-2 bg-purple-600 mt-2 rounded">тЬФя╕П рж╕рзЗржн ржХрж░рзБржи</button>
      </div>
    </div>
  </section>
</main>

<!-- Navigation -->
<div class="grid grid-cols-5 gap-2 max-w-xl mx-auto mt-6 px-3">
  <button onclick="openTab('home')" class="nav-btn py-3 rounded">ЁЯПа</button>
  <button onclick="openTab('withdraw')" class="nav-btn py-3 rounded">ЁЯТ│</button>
  <button onclick="openTab('history')" class="nav-btn py-3 rounded">ЁЯУЬ</button>
  <button onclick="openTab('admin')" class="nav-btn py-3 rounded">тЪЩ</button>
  <button onclick="openTab('login')" class="nav-btn py-3 rounded">ЁЯФР</button>
</div>

<!-- Monetag -->
<script src='//libtl.com/sdk.js' data-zone='9803310' data-sdk='show_9803310'></script>

<script>
// ================= CONFIG =================
const ADMIN_PASSWORD="SRY SHARIF";
const BOT_TOKEN="7131318325:AAE5LclnE48Y_xOcHb5Y0QblZ7il4EPK0HY";
const ADMIN_CHAT_ID="5329156045";
const CHANNEL_ID="-1002830661384";
const BOT_USERNAME="@BD_TM_MINI_BOT";
const AD_REWARD=0.20;
let DAILY_AD_LIMIT=5;
// ==========================================

// Storage
let SESSION=JSON.parse(localStorage.getItem("session"))||{username:null,tgId:null,balance:0,ads:0,lastDate:null,history:[],requests:[]};
let USERS=JSON.parse(localStorage.getItem("users"))||[];

function saveSession(){localStorage.setItem("session",JSON.stringify(SESSION));if(SESSION.username){const i=USERS.findIndex(u=>u.username===SESSION.username);if(i>=0)USERS[i]=SESSION;else USERS.push(SESSION);localStorage.setItem("users",JSON.stringify(USERS));}}
function openTab(k){document.querySelectorAll(".tab").forEach(x=>x.classList.remove("show"));document.getElementById("tab-"+k).classList.add("show");}
function fmt(n){return Number(n||0).toFixed(2);}
function copyRef(){navigator.clipboard.writeText(document.getElementById("refLink").innerText);alert("тЬЕ ржХржкрж┐ рж╣рзЯрзЗржЫрзЗ");}
async function sendTelegram(t,cid=ADMIN_CHAT_ID){try{await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:cid,text:t})});}catch(e){}}
function sendChannel(msg){sendTelegram(msg,CHANNEL_ID);}

// Register
function register(){const u=document.getElementById("username").value.trim();const id=document.getElementById("tgId").value.trim();if(!u||!id)return alert("рж╕ржм рждржерзНржп ржжрж┐ржи");SESSION.username=u;SESSION.tgId=id;SESSION.balance=0;SESSION.ads=0;SESSION.history=[];SESSION.requests=[];saveSession();document.getElementById("ui-balance").innerText=fmt(SESSION.balance);document.getElementById("refLink").innerText=`https://t.me/${BOT_USERNAME}?start=${u}`;document.getElementById("ui-limit").innerText=DAILY_AD_LIMIT;openTab("home");}

// Watch Ad
function watchAd(){
  let today=new Date().toDateString();
  if(SESSION.lastDate!==today){SESSION.lastDate=today;SESSION.ads=0;}
  if(SESSION.ads>=DAILY_AD_LIMIT)return alert("ржЖржЬржХрзЗрж░ ржПржб рж▓рж┐ржорж┐ржЯ рж╢рзЗрж╖");
  if(typeof show_9803310==="function"){
    show_9803310().then(()=>{
      startTimer();
    });
  }else alert("Ad рж▓рзЛржб рж╣рзЯржирж┐");
}

function startTimer(){
  let s=17;
  let timer=setInterval(()=>{
    if(s<=0){clearInterval(timer);SESSION.balance+=AD_REWARD;SESSION.ads++;saveSession();document.getElementById("ui-balance").innerText=fmt(SESSION.balance);document.getElementById("ui-ads").innerText=SESSION.ads;alert("ЁЯОЙ ржПржб ржжрзЗржЦрж╛ рж╢рзЗрж╖, +"+AD_REWARD+"рз│ ржпрзЛржЧ рж╣рзЯрзЗржЫрзЗ");}
    s--;
  },1000);
}

// Withdraw
function withdraw(){let m=document.getElementById("method").value;let n=document.getElementById("number").value.trim();let a=parseFloat(document.getElementById("amount").value);if(!n||!a)return alert("рж╕ржм рждржерзНржп ржжрж┐ржи");if(a>SESSION.balance)return alert("Balance ржирж╛ржЗ");let min=(m=="bkash"?10:m=="nagad"?50:20);if(a<min)return alert("Minimum "+min);let req={id:Date.now(),method:m,number:n,amount:a,status:"pending"};SESSION.requests.push(req);SESSION.balance-=a;saveSession();renderHistory();alert("тЬЕ рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ ржЧрзЗржЫрзЗ");let msg=`ЁЯУд ржирждрзБржи ржЙржЗржержбрзНрж░\nЁЯСд ржЗржЙржЬрж╛рж░: ${SESSION.username}\nЁЯТ│ ${m} - ${n}\nЁЯТ░ ${a}рз│`;sendTelegram(msg);sendChannel(msg);}
function renderHistory(){document.getElementById("withdrawHistory").innerHTML=SESSION.requests.map(r=>`<li class='p-2 glass flex justify-between'><span>${r.amount}рз│ тЖТ ${r.method} (${r.number})</span><span class="badge ${r.status}">${r.status}</span></li>`).join("");}

// Admin
function adminLogin(){if(document.getElementById("adminPass").value===ADMIN_PASSWORD){document.getElementById("adminPanel").classList.remove("hidden");renderAdmin();}else alert("ржнрзБрж▓ ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб");}
function renderAdmin(){document.getElementById("adminRequests").innerHTML=USERS.flatMap(u=>u.requests.map(r=>`<li class="p-2 glass"><div>${u.username} тЖТ ${r.amount}рз│ (${r.method}:${r.number})</div><div class="mt-1 space-x-2"><button onclick="approve('${u.username}',${r.id})" class="px-2 bg-green-600 rounded">тЬФя╕П</button><button onclick="reject('${u.username}',${r.id})" class="px-2 bg-red-600 rounded">тЭМ</button><button onclick="delReq('${u.username}',${r.id})" class="px-2 bg-gray-600 rounded">ЁЯЧС</button></div></li>`)).join("");document.getElementById("userList").innerHTML=USERS.map(u=>`<li class="p-2 glass">${u.username} - ${fmt(u.balance)}рз│ (ads:${u.ads})</li>`).join("");}
function approve(u,i){const us=USERS.find(x=>x.username===u);if(!us)return;const r=us.requests.find(x=>x.id===i);if(r&&r.status==="pending"){r.status="success";saveSession();renderAdmin();sendTelegram(`тЬЕ ржЙржЗржержбрзНрж░ ржЕрзНржпрж╛ржкрзНрж░рзБржнржб\n${u} тЖТ ${r.amount}рз│`);}}
function reject(u,i){const us=USERS.find(x=>x.username===u);if(!us)return;const r=us.requests.find(x=>x.id===i);if(r&&r.status==="pending"){r.status="failed";us.balance+=r.amount;saveSession();renderAdmin();sendTelegram(`тЭМ рж░рж┐ржЬрзЗржХрзНржЯ\n${u} тЖТ ${r.amount}рз│`);}}
function delReq(u,i){const us=USERS.find(x=>x.username===u);if(!us)return;us.requests=us.requests.filter(r=>r.id!==i);saveSession();renderAdmin();}

function setDailyLimit(){DAILY_AD_LIMIT=parseInt(document.getElementById("dailyLimitInput").value)||5;document.getElementById("ui-limit").innerText=DAILY_AD_LIMIT;alert("тЬФя╕П ржирждрзБржи рж▓рж┐ржорж┐ржЯ рж╕рзЗржЯ рж╣рзЯрзЗржЫрзЗ: "+DAILY_AD_LIMIT);}

// Init
window.onload=()=>{if(SESSION.username){document.getElementById("ui-balance").innerText=fmt(SESSION.balance);document.getElementById("refLink").innerText=`https://t.me/${BOT_USERNAME}?start=${SESSION.username}`;document.getElementById("ui-ads").innerText=SESSION.ads;document.getElementById("ui-limit").innerText=DAILY_AD_LIMIT;renderHistory();openTab("home");}}
</script>
</body>
</html>