<!doctype html>
<html lang="bn">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üíé ADS EARNING BD TM ‚Äî 10s Monetag ‚Ä¢ Min Withdraw 10</title>
<!-- Monetag SDK (‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£) ‚Äî ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ Zone / SDK ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶¨‡¶¶‡¶≤‡¶æ‡¶¨‡ßá -->
<script src="//libtl.com/sdk.js" data-zone="9803310" data-sdk="show_9803310"></script>

<style>
  :root{
    --bg:#0f1720; --card:#141821; --accent1:#ff9800; --accent2:#00bcd4; --glass: rgba(255,255,255,0.04);
  }
  *{box-sizing:border-box}
  body{font-family:Inter,Arial,Helvetica,sans-serif;background:linear-gradient(135deg,#0b1220,#10141a);color:#fff;margin:0;padding:26px;display:flex;align-items:center;justify-content:center;min-height:100vh}
  .wrap{width:420px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:16px;padding:22px;box-shadow:0 8px 40px rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.03)}
  .title{display:inline-block;padding:12px 26px;border-radius:999px;background:linear-gradient(90deg,#ffdd55,#ff6a00);color:#111;font-weight:800;font-size:18px;box-shadow:0 6px 20px rgba(255,150,0,0.18);margin-bottom:12px}
  .meta{font-size:13px;color:rgba(255,255,255,0.75);margin-bottom:14px}
  .circle{width:110px;height:110px;border-radius:999px;margin:8px auto;background:conic-gradient(var(--accent1) 0%, #333 0%);display:flex;align-items:center;justify-content:center;font-weight:900;font-size:18px;box-shadow:0 8px 30px rgba(0,0,0,0.6);margin-bottom:10px}
  .row{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-bottom:8px}
  button.btn{border:0;padding:12px 18px;border-radius:999px;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#061016;font-weight:800;cursor:pointer;min-width:160px;box-shadow:0 8px 26px rgba(0,0,0,0.5);transition:transform .14s ease, box-shadow .14s ease}
  button.btn:active{transform:translateY(2px)}
  button.ghost{background:linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));color:#fff;border:1px solid rgba(255,255,255,0.04)}
  .small{font-size:13px;padding:8px 12px;min-width:120px}
  .ad-box{display:none;background:linear-gradient(120deg,#e6f7ff,#d9fff4);color:#023; padding:12px;border-radius:12px;margin-top:12px; box-shadow: inset 0 0 18px rgba(0,0,0,0.06)}
  .ad-timer{font-weight:900;font-size:20px;margin-top:8px}
  .info-card{background:var(--glass);padding:12px;border-radius:12px;margin:12px 0;font-size:14px;color:rgba(255,255,255,0.9)}
  label{display:block;font-size:13px;margin:8px 0 4px;color:rgba(255,255,255,0.9)}
  input,select{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:#0b1115;color:#fff}
  .hidden{display:none}
  .copyRow{display:flex;gap:8px;align-items:center}
  .copyRow input{flex:1}
  .note{font-size:12px;color:rgba(255,255,255,0.6);margin-top:8px}
  footer{font-size:12px;color:rgba(255,255,255,0.45);margin-top:10px;text-align:center}
</style>
</head>
<body>

<div class="wrap" role="main">
  <div style="text-align:center">
    <div class="title">‚ú® BD TM ADS EARNING ‚ú®</div>
    <div class="meta">üí≥ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞: <strong>‡ß≥10</strong> ‚Ä¢ ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶è‡¶°: <strong>‡ß≥0.20</strong> ‚Ä¢ Monetag (5s)</div>
  </div>

  <div class="circle" id="progressCircle">0%</div>

  <div class="info-card" style="text-align:center">
    Watched: <strong id="watchedCount">0</strong> &nbsp; ‚Ä¢ &nbsp;
    Earned: ‡ß≥<strong id="earnedPoints">0.00</strong><br/>
    Limit: <strong id="dailyLimit">110</strong> &nbsp; ‚Ä¢ &nbsp;
    Remaining: <strong id="remainingAds">110</strong>
  </div>

  <div class="row" style="margin-bottom:6px">
    <button class="btn" id="watchBtn">‚ñ∂ Watch Ad</button>
    <button class="btn" id="joinBtn">üîî Join Channel</button>
  </div>

  <div class="row">
    <button class="ghost small" id="balanceBtn">üí∞ Balance</button>
    <button class="ghost small" id="withdrawToggle">üì§ Withdraw</button>
    <button class="ghost small" id="referShow">üë• Refer</button>
  </div>

  <!-- Ad box (top-light) -->
  <div class="ad-box" id="adBox" aria-hidden="true">
    <div>üé¨ Monetag Ad ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶ö‡ßç‡¶õ‡ßá‚Äî ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®</div>
    <div class="ad-timer" id="adTimer">10</div>
    <div class="note">‡¶è‡¶° ‡¶ö‡¶≤‡¶æ‡¶ï‡¶æ‡¶≤‡ßÄ‡¶® ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶¨‡¶æ ‡¶™‡ßá‡¶ú ‡¶•‡ßá‡¶ï‡ßá ‡¶¨‡ßá‡¶∞ ‡¶π‡¶≤‡ßá reward ‡¶π‡¶¨‡ßá ‡¶®‡¶æ</div>
  </div>

  <!-- Withdraw section -->
  <div id="withdrawSection" class="info-card hidden" aria-hidden="true">
    <h4 style="margin:0 0 8px">Withdraw Request</h4>
    <label>Amount (‡ß≥) ‚Äî Min ‡ß≥10</label>
    <input id="withdrawAmount" type="number" min="10" placeholder="Enter amount (e.g. 50)" />
    <label>Payment Method</label>
    <select id="withdrawMethod">
      <option>Bkash</option>
      <option>Rocket</option>
      <option>Mobile Recharge</option>
    </select>
    <label>Phone Number</label>
    <input id="withdrawPhone" type="text" placeholder="01XXXXXXXXX" />
    <label>Telegram Username</label>
    <input id="withdrawTelegram" type="text" placeholder="@yourusername" />
    <div style="margin-top:10px;text-align:right">
      <button class="btn small" id="submitWithdraw">Submit</button>
    </div>
  </div>

  <!-- Refer area -->
  <div id="referSection" class="info-card hidden" aria-hidden="true">
    <h4 style="margin:0 0 8px">Your Refer Link</h4>
    <div class="copyRow">
      <input id="referInput" readonly />
      <button class="btn small" id="copyReferBtn">Copy</button>
    </div>
    <div class="note">Share this link ‚Äî refer ‡¶è ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶≤‡ßá</div>
  </div>

  <footer>üïí <span id="clock">--:--:--</span></footer>
</div>

<script>
/* ====== CONFIG ====== */
const DAILY_LIMIT = 110;
const REWARD_PER_AD = 0.2;   // ‡ß≥ per ad
const WATCH_SECONDS = 10;    // seconds required
const MONETAG_FUNCTION_NAME = 'show_9803310'; // SDK function (if provided by Monetag script)
const MONETAG_FALLBACK_URL = 'https://example.com/monetag-ad'; // fallback if SDK not available
// Telegram withdraw notification (replace with your values)
const BOT_TOKEN = 'PUT_YOUR_TELEGRAM_BOT_TOKEN_HERE';
const ADMIN_CHAT_ID = 'PUT_ADMIN_CHAT_ID_HERE';

/* ====== STATE (localStorage) ====== */
const LS_KEY = 'bd_ads_state_v1';
function loadState(){
  const raw = localStorage.getItem(LS_KEY);
  const today = (new Date()).toDateString();
  if(!raw) {
    const s = { watched:0, points:0.0, referCode:null, date: today };
    localStorage.setItem(LS_KEY, JSON.stringify(s));
    return s;
  }
  try {
    const s = JSON.parse(raw);
    if(s.date !== today){
      // reset daily counters
      s.watched = 0;
      s.date = today;
      localStorage.setItem(LS_KEY, JSON.stringify(s));
    }
    return s;
  } catch(e){
    const s = { watched:0, points:0.0, referCode:null, date: today };
    localStorage.setItem(LS_KEY, JSON.stringify(s));
    return s;
  }
}
function saveState(s){ localStorage.setItem(LS_KEY, JSON.stringify(s)); }

let state = loadState();

/* ====== DOM ====== */
const watchedCountEl = document.getElementById('watchedCount');
const earnedPointsEl = document.getElementById('earnedPoints');
const remainingEl = document.getElementById('remainingAds');
const dailyLimitEl = document.getElementById('dailyLimit');
const progressCircle = document.getElementById('progressCircle');

const watchBtn = document.getElementById('watchBtn');
const adBox = document.getElementById('adBox');
const adTimer = document.getElementById('adTimer');

const withdrawToggle = document.getElementById('withdrawToggle');
const withdrawSection = document.getElementById('withdrawSection');
const submitWithdraw = document.getElementById('submitWithdraw');

const referShow = document.getElementById('referShow');
const referSection = document.getElementById('referSection');
const referInput = document.getElementById('referInput');
const copyReferBtn = document.getElementById('copyReferBtn');

const joinBtn = document.getElementById('joinBtn');
const balanceBtn = document.getElementById('balanceBtn');

/* ====== Initialization UI ====== */
function render(){
  watchedCountEl.textContent = state.watched;
  earnedPointsEl.textContent = Number(state.points).toFixed(2);
  dailyLimitEl.textContent = DAILY_LIMIT;
  remainingEl.textContent = Math.max(DAILY_LIMIT - state.watched, 0);
  // progress (0-100)
  const pct = Math.round((state.watched / DAILY_LIMIT) * 100);
  const pctSafe = Math.max(0, Math.min(100, pct));
  progressCircle.style.background = `conic-gradient(${getGradientColor(pctSafe)} ${pctSafe}%, #333 ${pctSafe}%)`;
  progressCircle.textContent = `${pctSafe}%`;
  // refer code ensure
  if(!state.referCode){
    state.referCode = generateReferCode();
    saveState(state);
  }
  referInput.value = `https://t.me/ads_earning_bd_tm_bot?start=r${state.referCode}`;
}
function getGradientColor(pct){
  // choose color depending on pct
  if(pct < 25) return '#ff5722';
  if(pct < 60) return '#ff9800';
  return '#00bcd4';
}
function generateReferCode(){
  // stable unique code saved per client
  const existing = localStorage.getItem('bd_user_ref_v1');
  if(existing) return existing;
  const code = 'r' + Date.now().toString(36) + Math.floor(Math.random()*9000+1000);
  localStorage.setItem('bd_user_ref_v1', code);
  return code;
}
render();

/* ====== Clock ====== */
setInterval(()=> {
  document.getElementById('clock').textContent = new Date().toLocaleTimeString();
},1000);

/* ====== Watch Ad Flow (Monetag preferred) ====== */
let watching = false;
watchBtn.addEventListener('click', async () => {
  if(watching) return;
  if(state.watched >= DAILY_LIMIT){ alert('‚ö†Ô∏è Daily Ads Limit Reached!'); return; }

  // If Monetag SDK function exists, call it. We'll then run a 10s visual countdown
  if(typeof window[MONETAG_FUNCTION_NAME] === 'function'){
    try{
      watching = true;
      adBox.style.display = 'block';
      adTimer.textContent = WATCH_SECONDS;
      watchBtn.disabled = true;
      // call SDK
      await window[MONETAG_FUNCTION_NAME]();
      // Monetag resolved ‚Äî start required seconds countdown to ensure view time
      await runCountdownThenReward(WATCH_SECONDS);
    }catch(err){
      console.error('Monetag ad error:', err);
      alert('‚ùå Ad failed to load. Try again.');
      adBox.style.display = 'none';
      watchBtn.disabled = false;
      watching = false;
    }
  } else {
    // fallback: open link in new tab and do local countdown (best-effort)
    const newWin = window.open(MONETAG_FALLBACK_URL, '_blank');
    if(!newWin){
      alert('Popup blocked. Allow popups for this site and try again.');
      return;
    }
    watching = true;
    adBox.style.display = 'block';
    adTimer.textContent = WATCH_SECONDS;
    watchBtn.disabled = true;
    try{
      await runCountdownThenReward(WATCH_SECONDS);
    } finally {
      // best-effort: try to close opened tab (may fail due to cross-origin)
      try{ newWin.close(); }catch(e){}
      watching = false;
    }
  }
});

function runCountdownThenReward(seconds){
  return new Promise((resolve, reject) => {
    let sec = seconds;
    adTimer.textContent = sec;
    const iv = setInterval(() => {
      sec--;
      adTimer.textContent = sec;
      // if user navigates away (visibility change) we can detect and cancel reward
      if(document.visibilityState === 'hidden'){
        clearInterval(iv);
        adBox.style.display='none';
        watchBtn.disabled = false;
        watching = false;
        alert('‚ö†Ô∏è ‡¶Ü‡¶™‡¶®‡¶ø ‡¶™‡ßá‡¶á‡¶ú ‡¶õ‡ßá‡¶°‡¶º‡ßá ‡¶ó‡¶ø‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡¶® ‚Äî ‡¶∞‡¶ø‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§');
        reject(new Error('visibility_hidden'));
        return;
      }
      if(sec <= 0){
        clearInterval(iv);
        // reward
        state.watched += 1;
        state.points = Number(state.points) + Number(REWARD_PER_AD);
        saveState(state);
        render();
        adBox.style.display='none';
        watchBtn.disabled = false;
        watching = false;
        alert(`‚úÖ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶™‡ßá‡ßü‡ßá‡¶õ‡ßá‡¶® ‡ß≥${REWARD_PER_AD.toFixed(2)}!`);
        resolve();
      }
    }, 1000);
  });
}

/* ====== Withdraw ====== */
withdrawToggle.addEventListener('click', ()=> {
  withdrawSection.classList.toggle('hidden');
  withdrawSection.setAttribute('aria-hidden', withdrawSection.classList.contains('hidden'));
});

submitWithdraw.addEventListener('click', ()=> {
  const amount = parseFloat(document.getElementById('withdrawAmount').value || 0);
  const method = document.getElementById('withdrawMethod').value;
  const phone = document.getElementById('withdrawPhone').value.trim();
  const telegram = document.getElementById('withdrawTelegram').value.trim();

  if(isNaN(amount) || amount < 10){
    alert('‚ö†Ô∏è Minimum withdraw ‡ß≥10');
    return;
  }
  if(amount > state.points){
    alert('‚ö†Ô∏è ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶®‡ßç‡¶∏ ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶®‡ßá‡¶á');
    return;
  }
  // deduct locally
  state.points = Number(state.points) - Number(amount);
  saveState(state);
  render();

  // send message to admin via Telegram Bot API (replace BOT_TOKEN and ADMIN_CHAT_ID)
  if(BOT_TOKEN && ADMIN_CHAT_ID && BOT_TOKEN !== 'PUT_YOUR_TELEGRAM_BOT_TOKEN_HERE'){
    const text = `üí∞ Withdraw Request\nAmount: ${amount} BDT\nMethod: ${method}\nPhone: ${phone}\nTelegram: ${telegram}`;
    fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${ADMIN_CHAT_ID}&text=${encodeURIComponent(text)}`)
      .then(r => r.json())
      .then(d => console.log('Withdraw sent', d))
      .catch(e => console.error('Telegram send error', e));
  } else {
    // placeholder fallback ‚Äî developer should replace BOT_TOKEN & ADMIN_CHAT_ID
    console.log('Withdraw request (local):', {amount, method, phone, telegram});
  }

  alert('‚úÖ Withdraw request submitted!');
  // hide section
  withdrawSection.classList.add('hidden');
});

/* ====== Refer link copy ====== */
referShow.addEventListener('click', ()=> {
  referSection.classList.toggle('hidden');
  referSection.setAttribute('aria-hidden', referSection.classList.contains('hidden'));
  // fill input
  referInput.value = `https://t.me/ads_earning_bd_tm_bot?start=r${state.referCode}`;
});

copyReferBtn.addEventListener('click', async () => {
  try{
    await navigator.clipboard.writeText(referInput.value);
    alert('‚úÖ Refer link copied to clipboard!');
  }catch(e){
    // fallback
    referInput.select();
    document.execCommand('copy');
    alert('‚úÖ Refer link copied (fallback).');
  }
});

/* ====== Join & Balance ====== */
joinBtn.addEventListener('click', ()=> {
  // open your channel link (previous link)
  window.open('https://t.me/ADS_EARNING_BD_TM_CHANNEL', '_blank');
});
balanceBtn.addEventListener('click', ()=> {
  alert(`üí∞ Your balance: ‡ß≥${Number(state.points).toFixed(2)}\nWatched: ${state.watched}`);
});

/* ====== Daily reset at midnight (safety) ====== */
(function ensureDailyReset(){
  // already handled in loadState(); but set timer to check at next midnight
  const now = new Date();
  const tomorrow = new Date(now.getFullYear(), now.getMonth(), now.getDate()+1, 0,0,3); // 00:00:03
  const ms = tomorrow - now;
  setTimeout(()=> {
    // reload and re-render (will reset daily)
    state = loadState();
    render();
    // set again
    ensureDailyReset();
  }, ms);
})();

</script>
</body>
    </html>





