<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>BD TM MINI BOT</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Monetag SDK -->
  <script src="//libtl.com/sdk.js" data-zone="9842278" data-sdk="show_9842278"></script>

  <style>
    body{font-family:ui-sans-serif,system-ui}
    .glass{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);backdrop-filter:blur(12px);border-radius:16px}
    .lighting{animation:glow 6s infinite alternate ease-in-out}
    @keyframes glow{
      0%{color:#60a5fa;text-shadow:0 0 10px #60a5fa}
      25%{color:#a78bfa;text-shadow:0 0 12px #a78bfa}
      50%{color:#34d399;text-shadow:0 0 12px #34d399}
      75%{color:#f59e0b;text-shadow:0 0 14px #f59e0b}
      100%{color:#fb7185;text-shadow:0 0 16px #fb7185}
    }
    .bottom{position:fixed;left:0;right:0;bottom:0;padding:10px;background:rgba(0,0,0,.25);backdrop-filter:blur(8px)}
    .navbtn{width:100%;padding:10px 8px;border-radius:14px;font-weight:700}
    .tab{display:none;opacity:0;transform:translateY(8px);transition:all .3s}
    .tab.show{display:block;opacity:1;transform:translateY(0)}
    .badge{padding:2px 6px;border-radius:8px;font-size:12px}
    .pending{background:#fbbf24;color:black}
    .approved{background:#10b981}
    .rejected{background:#ef4444}
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-[#091535] via-[#0b1120] to-[#2b0b3a] text-white pb-28">

<header class="p-5 text-center">
  <div class="glass p-4 max-w-xl mx-auto">
    <h1 class="text-3xl font-extrabold lighting">ЁЯТО BD TM MINI BOT</h1>
    <p class="opacity-80 text-sm">ржПржб ржжрзЗржЦрзЗ ржЖрзЯ ржХрж░рзБржи тАв ржЙржЗржержбрзНрж░ ржирж┐ржи тАв ржПржбржорж┐ржи ржХржирзНржЯрзНрж░рзЛрж▓</p>
  </div>
</header>

<main class="px-4 max-w-xl mx-auto space-y-4">
  <!-- Login -->
  <section id="tab-login" class="tab show">
    <div class="glass p-5">
      <h2 class="text-xl font-bold lighting">ЁЯФР рж▓ржЧржЗржи</h2>
      <p class="text-sm opacity-80 mt-1">Username ржУ Telegram Numeric ID ржжрж┐ржиред</p>
      <div class="mt-4 space-y-3">
        <input id="username" class="w-full p-3 rounded text-black" placeholder="Username (without @)"/>
        <input id="tgId" class="w-full p-3 rounded text-black" placeholder="Numeric Telegram ID"/>
        <button onclick="register()" class="w-full py-3 bg-emerald-600 rounded-lg font-semibold">ЁЯЪА рж╢рзБрж░рзБ ржХрж░рзБржи</button>
      </div>
    </div>
  </section>

  <!-- Home -->
  <section id="tab-home" class="tab">
    <div class="glass p-5 text-center">
      <div class="lighting">ржмрж░рзНрждржорж╛ржи ржмрзНржпрж╛рж▓рзЗржирзНрж╕</div>
      <div class="text-4xl font-extrabold mt-1"><span id="ui-balance">0.00</span> рз│</div>
      <div class="mt-2 text-sm opacity-80">ржЖржЬ ржжрзЗржЦрж╛: <span id="ui-ads">0</span> / 100</div>
      <div class="mt-3 flex justify-center gap-2">
        <button onclick="openTab('ads')" class="px-4 py-2 bg-blue-600 rounded-xl font-semibold">тЦ╢ ржПржб ржжрзЗржЦрзБржи</button>
        <button onclick="openTab('withdraw')" class="px-4 py-2 bg-green-600 rounded-xl font-semibold">ЁЯТ│ ржЙржЗржержбрзНрж░</button>
      </div>
    </div>
  </section>

  <!-- Ads -->
  <section id="tab-ads" class="tab">
    <div class="glass p-5 text-center">
      <div class="font-semibold lighting">ЁЯОм ржмрж┐ржЬрзНржЮрж╛ржкржи</div>
      <div class="mt-4">
        <button id="btn-start-ad" onclick="startAd()" class="w-full py-3 bg-blue-600 rounded-xl font-bold">тЦ╢ ржПржЦржиржЗ ржжрзЗржЦрзБржи</button>
      </div>
      <div id="adTimer" class="mt-3 text-sm opacity-80"></div>
    </div>
  </section>

  <!-- Withdraw -->
  <section id="tab-withdraw" class="tab">
    <div class="glass p-5">
      <h2 class="text-xl font-bold lighting">ЁЯТ│ ржЯрж╛ржХрж╛ ржЙрждрзНрждрзЛрж▓ржи</h2>
      <div class="text-xs opacity-80 mb-2">ржмрж┐ржХрж╛рж╢ 10рз│ тАв ржиржЧржж 50рз│ тАв рж░рж┐ржЪрж╛рж░рзНржЬ 20рз│</div>
      <div class="space-y-3">
        <select id="method" class="w-full p-3 rounded text-black">
          <option value="bkash">ржмрж┐ржХрж╛рж╢</option>
          <option value="nagad">ржиржЧржж</option>
          <option value="recharge">ржорзЛржмрж╛ржЗрж▓ рж░рж┐ржЪрж╛рж░рзНржЬ</option>
        </select>
        <input id="number" class="w-full p-3 rounded text-black" placeholder="ржиржорзНржмрж░"/>
        <input id="amount" type="number" class="w-full p-3 rounded text-black" placeholder="ржкрж░рж┐ржорж╛ржг"/>
        <button onclick="withdraw()" class="w-full py-3 bg-emerald-600 rounded-xl font-semibold">ЁЯУй рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ ржкрж╛ржарж╛ржи</button>
      </div>
      <div class="mt-5">
        <h3 class="font-semibold">ЁЯУЬ ржЖржорж╛рж░ рж╣рж┐рж╕рзНржЯрзНрж░рж┐</h3>
        <ul id="withdrawHistory" class="text-sm space-y-2 mt-2"></ul>
      </div>
    </div>
  </section>

  <!-- Admin -->
  <section id="tab-admin" class="tab">
    <div class="glass p-5">
      <h2 class="text-xl font-bold lighting">тЪЩя╕П ржПржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓</h2>
      <input id="adminPass" type="password" class="w-full p-3 rounded text-black mt-2" placeholder="ржПржбржорж┐ржи ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб"/>
      <button onclick="adminLogin()" class="w-full py-3 bg-pink-600 rounded-xl font-semibold mt-3">ЁЯФС рж▓ржЧржЗржи</button>
      <div id="adminPanel" class="mt-5 hidden">
        <h3 class="font-bold">Withdraw Requests</h3>
        <ul id="adminWithdraws" class="mt-2 space-y-2 text-sm"></ul>
      </div>
    </div>
  </section>
</main>

<nav class="bottom">
  <div class="max-w-xl mx-auto grid grid-cols-4 gap-2">
    <button class="navbtn bg-white/10" onclick="openTab('home')">ЁЯПа рж╣рзЛржо</button>
    <button class="navbtn bg-white/10" onclick="openTab('ads')">тЦ╢ ржПржб</button>
    <button class="navbtn bg-white/10" onclick="openTab('withdraw')">ЁЯТ│ ржЙржЗржержбрзНрж░</button>
    <button class="navbtn bg-white/10" onclick="openTab('admin')">тЪЩ ржПржбржорж┐ржи</button>
  </div>
</nav>

<script>
// === CONFIG ===
const ADMIN_PASSWORD = "Sharif000";
const BOT_TOKEN = "8169503775:AAHFBx2dXbnXLZHje8MUzgsx5chWjxD9dKY";
const ADMIN_CHAT_ID = "7691157254";

// === SESSION ===
let SESSION = { username:null, tgId:null, balance:0, ads:0, history:[] };

// === HELPERS ===
function openTab(key){
  document.querySelectorAll(".tab").forEach(x=>{x.classList.remove("show");x.style.display="none"});
  const el=document.getElementById("tab-"+key);
  if(el){el.style.display="block";setTimeout(()=>el.classList.add("show"),10)}
}
function fmt(n){return Number(n||0).toFixed(2);}
async function sendTelegram(text){
  try{
    await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({chat_id:ADMIN_CHAT_ID,text})
    });
  }catch(e){console.log("TG error",e);}
}
function updateHistoryUI(){
  const box=document.getElementById("withdrawHistory");
  box.innerHTML="";
  SESSION.history.forEach(h=>{
    const li=document.createElement("li");
    li.className="glass p-2 flex justify-between items-center";
    li.innerHTML=`<div><b>${h.method}</b> ${h.number}<br/>рз│${fmt(h.amount)}</div>
                  <div class="badge ${h.status.toLowerCase()}">${h.status}</div>`;
    box.appendChild(li);
  });
}

// === LOGIN ===
function register(){
  const username=document.getElementById("username").value.trim();
  const tgId=document.getElementById("tgId").value.trim();
  if(!username||!tgId) return alert("рж╕ржм рждржерзНржп ржжрж┐ржи");
  SESSION.username=username;SESSION.tgId=tgId;SESSION.balance=0;SESSION.ads=0;SESSION.history=[];
  document.getElementById("ui-balance").innerText=fmt(0);
  document.getElementById("ui-ads").innerText=0;
  openTab("home");
}

// === ADS ===
function startAd(){
  if(typeof show_9842278==="function"){ try{ show_9842278(); }catch(e){} }
  let left=17;
  document.getElementById("adTimer").innerText=`тП│ ржЪрж▓ржЫрзЗ... ${left}s`;
  const t=setInterval(()=>{
    left--;
    document.getElementById("adTimer").innerText=`тП│ ржЪрж▓ржЫрзЗ... ${left}s`;
    if(left<=0){
      clearInterval(t);
      SESSION.balance+=0.20;
      SESSION.ads+=1;
      document.getElementById("ui-balance").innerText=fmt(SESSION.balance);
      document.getElementById("ui-ads").innerText=SESSION.ads;
      document.getElementById("adTimer").innerText="тЬЕ +0.20 рз│ ржпрзЛржЧ рж╣рзЯрзЗржЫрзЗ";
      sendTelegram(`тЦ╢я╕П ржПржб ржжрзЗржЦрж╛ рж╕ржорзНржкржирзНржи\nЁЯСд ${SESSION.username} (${SESSION.tgId})\nржЖржЬ: ${SESSION.ads}/100\nржмрзНржпрж╛рж▓рзЗржирзНрж╕: рз│${fmt(SESSION.balance)}`);
    }
  },1000);
}

// === WITHDRAW ===
function withdraw(){
  const method=document.getElementById("method").value;
  const number=document.getElementById("number").value.trim();
  const amount=parseFloat(document.getElementById("amount").value);
  if(!number||!amount) return alert("рж╕ржм рждржерзНржп ржжрж┐ржи");
  if(amount>SESSION.balance) return alert("ржкрж░рзНржпрж╛ржкрзНржд ржмрзНржпрж╛рж▓рзЗржирзНрж╕ ржирзЗржЗ");
  SESSION.balance-=amount;
  document.getElementById("ui-balance").innerText=fmt(SESSION.balance);
  const req={method,number,amount,status:"Pending"};
  SESSION.history.unshift(req);
  updateHistoryUI();
  sendTelegram(`ЁЯУй ржирждрзБржи ржЙржЗржержбрзНрж░ рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ\nЁЯСд ${SESSION.username} (${SESSION.tgId})\nржкржжрзНржзрждрж┐: ${method}\nржиржорзНржмрж░: ${number}\nржкрж░рж┐ржорж╛ржг: рз│${fmt(amount)}`);
  alert("ЁЯУй ржЙржЗржержбрзНрж░ рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ ржкрж╛ржарж╛ржирзЛ рж╣рзЯрзЗржЫрзЗ (Pending)ред");
}

// === ADMIN ===
function adminLogin(){
  const pass=document.getElementById("adminPass").value;
  if(pass!==ADMIN_PASSWORD) return alert("ржнрзБрж▓ ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб");
  document.getElementById("adminPanel").classList.remove("hidden");
  loadAdmin();
}
function loadAdmin(){
  const box=document.getElementById("adminWithdraws");
  box.innerHTML="";
  SESSION.history.forEach((h,i)=>{
    const li=document.createElement("li");
    li.className="glass p-2 flex justify-between items-center";
    li.innerHTML=`<div><b>${SESSION.username}</b> рз│${fmt(h.amount)}<br/>${h.method}:${h.number}</div>
    <div class="space-x-1">
      <button onclick="approve(${i})" class="px-2 py-1 bg-green-600 rounded">тЬФ</button>
      <button onclick="reject(${i})" class="px-2 py-1 bg-red-600 rounded">тЬЦ</button>
    </div>`;
    box.appendChild(li);
  });
}
function approve(i){
  SESSION.history[i].status="Approved";
  updateHistoryUI();
  loadAdmin();
  sendTelegram(`тЬЕ APPROVED: рз│${fmt(SESSION.history[i].amount)} (${SESSION.history[i].method}:${SESSION.history[i].number})`);
}
function reject(i){
  SESSION.balance+=SESSION.history[i].amount;
  SESSION.history[i].status="Rejected";
  updateHistoryUI();
  loadAdmin();
  sendTelegram(`тЭМ REJECTED: рз│${fmt(SESSION.history[i].amount)} (${SESSION.history[i].method}:${SESSION.history[i].number})`);
}
</script>
</body>
</html>